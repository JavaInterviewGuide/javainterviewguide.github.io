<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#5391fe" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.0.0"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="/images/logo.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png"><link rel="mask-icon" href="/images/logo.png" color="#5391fe"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7CComic+Sans+MS:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.28/fancybox/fancybox.css" integrity="sha256-6cQIC71/iBIYXFK+0RHAvwmjwWzkWd+r7v/BX3/vZDc=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-material.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"javainterviewguide.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.19.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"defalut"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#5391fe","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8070896123414715" crossorigin="anonymous"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-TQWRP5B4WS"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TQWRP5B4WS")</script><meta name="description" content="Dubbo是什么？ Dubbo是一个分布式服务框架，致力于提供高性能和透明化的RPC远程服务调用方案，以及SOA服务治理方案 简单的说，dubbo就是个服务框架，如果没有分布式的需求，其实是不需要用的，只有在分布式的时候，才有dubbo这样的分布式服务框架的需求，并且本质上是个服务调用的东东，说白了就是个远程服务调用的分布式框架（告别Web Service模式中的WSdl，以服务者与消费者的方式在"><meta property="og:type" content="article"><meta property="og:title" content="Dubbo"><meta property="og:url" content="https://javainterviewguide.github.io/publishes/b9efb3c36627.html"><meta property="og:site_name" content="Java面试指南"><meta property="og:description" content="Dubbo是什么？ Dubbo是一个分布式服务框架，致力于提供高性能和透明化的RPC远程服务调用方案，以及SOA服务治理方案 简单的说，dubbo就是个服务框架，如果没有分布式的需求，其实是不需要用的，只有在分布式的时候，才有dubbo这样的分布式服务框架的需求，并且本质上是个服务调用的东东，说白了就是个远程服务调用的分布式框架（告别Web Service模式中的WSdl，以服务者与消费者的方式在"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2023-12-20T08:22:55.000Z"><meta property="article:modified_time" content="2024-01-04T08:53:05.002Z"><meta property="article:author" content="褚岩"><meta property="article:tag" content="微服务"><meta property="article:tag" content="分布式"><meta property="article:tag" content="dubbo"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://javainterviewguide.github.io/publishes/b9efb3c36627.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://javainterviewguide.github.io/publishes/b9efb3c36627.html","path":"publishes/b9efb3c36627.html","title":"Dubbo"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Dubbo | Java面试指南</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Java面试指南</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">1.</span> <span class="nav-text">Dubbo是什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">2.</span> <span class="nav-text">Dubbo能做什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dubbo%E7%9A%84%E6%9E%B6%E6%9E%84"><span class="nav-number">3.</span> <span class="nav-text">dubbo的架构</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E4%B8%ADzookeeper%E5%81%9A%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E9%9B%86%E7%BE%A4%E9%83%BD%E6%8C%82%E6%8E%89%EF%BC%8C%E5%8F%91%E5%B8%83%E8%80%85%E5%92%8C%E8%AE%A2%E9%98%85%E8%80%85%E4%B9%8B%E9%97%B4%E8%BF%98%E8%83%BD%E9%80%9A%E4%BF%A1%E4%B9%88"><span class="nav-number">4.</span> <span class="nav-text">Dubbo中zookeeper做注册中心，如果注册中心集群都挂掉，发布者和订阅者之间还能通信么</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dubbo%E6%9C%8D%E5%8A%A1%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AD%96%E7%95%A5"><span class="nav-number">5.</span> <span class="nav-text">dubbo服务负载均衡策略</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E5%9C%A8%E5%AE%89%E5%85%A8%E6%9C%BA%E5%88%B6%E6%96%B9%E9%9D%A2%E6%98%AF%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%9A%84"><span class="nav-number">6.</span> <span class="nav-text">Dubbo在安全机制方面是如何解决的</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dubbo%E8%BF%9E%E6%8E%A5%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E5%92%8C%E7%9B%B4%E8%BF%9E%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">7.</span> <span class="nav-text">dubbo连接注册中心和直连的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dubbo%E6%9C%8D%E5%8A%A1%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE%EF%BC%88%E9%9B%86%E7%BE%A4%E5%AE%B9%E9%94%99%E6%A8%A1%E5%BC%8F%EF%BC%89"><span class="nav-number">8.</span> <span class="nav-text">dubbo服务集群配置（集群容错模式）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Failover-Cluster-%E9%BB%98%E8%AE%A4"><span class="nav-number">8.0.0.1.</span> <span class="nav-text">Failover Cluster(默认)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Failfast-Cluster"><span class="nav-number">8.0.0.2.</span> <span class="nav-text">Failfast Cluster</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Failsafe-Cluster"><span class="nav-number">8.0.0.3.</span> <span class="nav-text">Failsafe Cluster</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Failback-Cluster"><span class="nav-number">8.0.0.4.</span> <span class="nav-text">Failback Cluster</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Forking-Cluster"><span class="nav-number">8.0.0.5.</span> <span class="nav-text">Forking Cluster</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#dubbo%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AEdubbo%E5%8D%8F%E8%AE%AE%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%B6%88%E8%B4%B9%E8%80%85%E6%AF%94%E6%8F%90%E4%BE%9B%E8%80%85%E4%B8%AA%E6%95%B0%E5%A4%9A%EF%BC%9A"><span class="nav-number">9.</span> <span class="nav-text">dubbo通信协议dubbo协议为什么要消费者比提供者个数多：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dubbo%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AEdubbo%E5%8D%8F%E8%AE%AE%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%83%BD%E4%BC%A0%E5%A4%A7%E5%8C%85"><span class="nav-number">10.</span> <span class="nav-text">dubbo通信协议dubbo协议为什么不能传大包</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dubbo%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AEdubbo%E5%8D%8F%E8%AE%AE%E4%B8%BA%E4%BB%80%E4%B9%88%E9%87%87%E7%94%A8%E5%BC%82%E6%AD%A5%E5%8D%95%E4%B8%80%E9%95%BF%E8%BF%9E%E6%8E%A5"><span class="nav-number">11.</span> <span class="nav-text">dubbo通信协议dubbo协议为什么采用异步单一长连接</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dubbo%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AEdubbo%E5%8D%8F%E8%AE%AE%E9%80%82%E7%94%A8%E8%8C%83%E5%9B%B4%E5%92%8C%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">12.</span> <span class="nav-text">dubbo通信协议dubbo协议适用范围和适用场景</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#RMI%E5%8D%8F%E8%AE%AE"><span class="nav-number">13.</span> <span class="nav-text">RMI协议</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Hessian%E5%8D%8F%E8%AE%AE"><span class="nav-number">14.</span> <span class="nav-text">Hessian协议</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#http"><span class="nav-number">15.</span> <span class="nav-text">http</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Webservice"><span class="nav-number">16.</span> <span class="nav-text">Webservice</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Thrif"><span class="nav-number">17.</span> <span class="nav-text">Thrif</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E2%BD%A4Dubbo%EF%BC%9F"><span class="nav-number">18.</span> <span class="nav-text">为什么要⽤Dubbo？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E5%92%8C-Spring-Cloud-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-number">19.</span> <span class="nav-text">Dubbo 和 Spring Cloud 有什么区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dubbo%E9%83%BD%E2%BD%80%E6%8C%81%E4%BB%80%E4%B9%88%E5%8D%8F%E8%AE%AE%EF%BC%8C%E6%8E%A8%E8%8D%90%E2%BD%A4%E5%93%AA%E7%A7%8D%EF%BC%9F"><span class="nav-number">20.</span> <span class="nav-text">dubbo都⽀持什么协议，推荐⽤哪种？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E9%9C%80%E8%A6%81-Web-%E5%AE%B9%E5%99%A8%E5%90%97%EF%BC%9F"><span class="nav-number">21.</span> <span class="nav-text">Dubbo需要 Web 容器吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E5%86%85%E7%BD%AE%E4%BA%86%E5%93%AA%E2%BC%8F%E7%A7%8D%E6%9C%8D%E5%8A%A1%E5%AE%B9%E5%99%A8%EF%BC%9F"><span class="nav-number">22.</span> <span class="nav-text">Dubbo内置了哪⼏种服务容器？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E9%BB%98%E8%AE%A4%E4%BD%BF%E2%BD%A4%E4%BB%80%E4%B9%88%E6%B3%A8%E5%86%8C%E4%B8%AD%E2%BC%BC%EF%BC%8C%E8%BF%98%E6%9C%89%E5%88%AB%E7%9A%84%E9%80%89%E6%8B%A9%E5%90%97%EF%BC%9F"><span class="nav-number">23.</span> <span class="nav-text">Dubbo默认使⽤什么注册中⼼，还有别的选择吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E6%9C%89%E5%93%AA%E2%BC%8F%E7%A7%8D%E9%85%8D%E7%BD%AE%E2%BD%85%E5%BC%8F%EF%BC%9F"><span class="nav-number">24.</span> <span class="nav-text">Dubbo有哪⼏种配置⽅式？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9C%A8-Provider-%E4%B8%8A%E5%8F%AF%E4%BB%A5%E9%85%8D%E7%BD%AE%E7%9A%84-Consumer-%E7%AB%AF%E7%9A%84%E5%B1%9E%E6%80%A7%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="nav-number">25.</span> <span class="nav-text">在 Provider 上可以配置的 Consumer 端的属性有哪些？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E5%90%AF%E5%8A%A8%E6%97%B6%E5%A6%82%E6%9E%9C%E4%BE%9D%E8%B5%96%E7%9A%84%E6%9C%8D%E5%8A%A1%E4%B8%8D%E5%8F%AF%E2%BD%A4%E4%BC%9A%E6%80%8E%E6%A0%B7%EF%BC%9F"><span class="nav-number">26.</span> <span class="nav-text">Dubbo启动时如果依赖的服务不可⽤会怎样？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E6%8E%A8%E8%8D%90%E4%BD%BF%E2%BD%A4%E4%BB%80%E4%B9%88%E5%BA%8F%E5%88%97%E5%8C%96%E6%A1%86%E6%9E%B6%EF%BC%8C%E4%BD%A0%E7%9F%A5%E9%81%93%E7%9A%84%E8%BF%98%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="nav-number">27.</span> <span class="nav-text">Dubbo推荐使⽤什么序列化框架，你知道的还有哪些？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E9%BB%98%E8%AE%A4%E4%BD%BF%E2%BD%A4%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88%E9%80%9A%E4%BF%A1%E6%A1%86%E6%9E%B6%EF%BC%8C%E8%BF%98%E6%9C%89%E5%88%AB%E7%9A%84%E9%80%89%E6%8B%A9%E5%90%97%EF%BC%9F"><span class="nav-number">28.</span> <span class="nav-text">Dubbo默认使⽤的是什么通信框架，还有别的选择吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B3%A8%E5%86%8C%E4%BA%86%E5%A4%9A%E4%B8%AA%E5%90%8C%E2%BC%80%E6%A0%B7%E7%9A%84%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B5%8B%E8%AF%95%E6%8C%87%E5%AE%9A%E7%9A%84%E6%9F%90%E2%BC%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%91%A2%EF%BC%9F"><span class="nav-number">29.</span> <span class="nav-text">注册了多个同⼀样的服务，如果测试指定的某⼀个服务呢？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E2%BD%80%E6%8C%81%E6%9C%8D%E5%8A%A1%E5%A4%9A%E5%8D%8F%E8%AE%AE%E5%90%97%EF%BC%9F"><span class="nav-number">30.</span> <span class="nav-text">Dubbo⽀持服务多协议吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BD%93%E2%BC%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E6%8E%A5%E2%BC%9D%E6%9C%89%E5%A4%9A%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%97%B6%E6%80%8E%E4%B9%88%E5%81%9A%EF%BC%9F"><span class="nav-number">31.</span> <span class="nav-text">当⼀个服务接⼝有多种实现时怎么做？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E4%B8%8A%E7%BA%BF%E6%80%8E%E4%B9%88%E5%85%BC%E5%AE%B9%E6%97%A7%E7%89%88%E6%9C%AC%EF%BC%9F"><span class="nav-number">32.</span> <span class="nav-text">服务上线怎么兼容旧版本？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E5%8F%AF%E4%BB%A5%E5%AF%B9%E7%BB%93%E6%9E%9C%E8%BF%9B%E2%BE%8F%E7%BC%93%E5%AD%98%E5%90%97%EF%BC%9F"><span class="nav-number">33.</span> <span class="nav-text">Dubbo可以对结果进⾏缓存吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E6%9C%8D%E5%8A%A1%E4%B9%8B%E9%97%B4%E7%9A%84%E8%B0%83%E2%BD%A4%E6%98%AF%E9%98%BB%E5%A1%9E%E7%9A%84%E5%90%97%EF%BC%9F"><span class="nav-number">34.</span> <span class="nav-text">Dubbo服务之间的调⽤是阻塞的吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E2%BD%80%E6%8C%81%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E5%90%97%EF%BC%9F"><span class="nav-number">35.</span> <span class="nav-text">Dubbo⽀持分布式事务吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-telnet-%E5%91%BD%E4%BB%A4%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">36.</span> <span class="nav-text">Dubbo telnet 命令能做什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E2%BD%80%E6%8C%81%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%E5%90%97%EF%BC%9F"><span class="nav-number">37.</span> <span class="nav-text">Dubbo⽀持服务降级吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E5%81%9C%E6%9C%BA%EF%BC%9F"><span class="nav-number">38.</span> <span class="nav-text">Dubbo如何优雅停机？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%A4%B1%E6%95%88%E8%B8%A2%E5%87%BA%E6%98%AF%E4%BB%80%E4%B9%88%E5%8E%9F%E7%90%86%EF%BC%9F"><span class="nav-number">39.</span> <span class="nav-text">服务提供者能实现失效踢出是什么原理？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E6%9C%8D%E5%8A%A1%E8%B0%83%E2%BD%A4%E9%93%BE%E8%BF%87%E2%BB%93%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="nav-number">40.</span> <span class="nav-text">如何解决服务调⽤链过⻓的问题？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E8%AF%BB%E5%86%99%E6%8E%A8%E8%8D%90%E7%9A%84%E5%AE%B9%E9%94%99%E7%AD%96%E7%95%A5%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%EF%BC%9F"><span class="nav-number">41.</span> <span class="nav-text">服务读写推荐的容错策略是怎样的？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E5%BF%85%E9%A1%BB%E4%BE%9D%E8%B5%96%E7%9A%84%E5%8C%85%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="nav-number">42.</span> <span class="nav-text">Dubbo必须依赖的包有哪些？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E7%9A%84%E7%AE%A1%E7%90%86%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">43.</span> <span class="nav-text">Dubbo的管理控制台能做什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%B4%E8%AF%B4-Dubbo-%E6%9C%8D%E5%8A%A1%E6%9A%B4%E9%9C%B2%E7%9A%84%E8%BF%87%E7%A8%8B%E3%80%82"><span class="nav-number">44.</span> <span class="nav-text">说说 Dubbo 服务暴露的过程。</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E5%81%9C%E2%BD%8C%E7%BB%B4%E6%8A%A4%E4%BA%86%E5%90%97%EF%BC%9F"><span class="nav-number">45.</span> <span class="nav-text">Dubbo 停⽌维护了吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E5%92%8C-Dubbox-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-number">46.</span> <span class="nav-text">Dubbo 和 Dubbox 有什么区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%A0%E8%BF%98%E4%BA%86%E8%A7%A3%E5%88%AB%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E6%A1%86%E6%9E%B6%E5%90%97%EF%BC%9F"><span class="nav-number">47.</span> <span class="nav-text">你还了解别的分布式框架吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E8%83%BD%E9%9B%86%E6%88%90-Spring-Boot-%E5%90%97%EF%BC%9F"><span class="nav-number">48.</span> <span class="nav-text">Dubbo 能集成 Spring Boot 吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9C%A8%E4%BD%BF%E2%BD%A4%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%83%BD%E9%81%87%E5%88%B0%E4%BA%86%E4%BA%9B%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="nav-number">49.</span> <span class="nav-text">在使⽤过程中都遇到了些什么问题？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%A0%E8%A7%89%E5%BE%97%E2%BD%A4-Dubbo-%E5%A5%BD%E8%BF%98%E6%98%AF-Spring-Cloud-%E5%A5%BD%EF%BC%9F"><span class="nav-number">50.</span> <span class="nav-text">你觉得⽤ Dubbo 好还是 Spring Cloud 好？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">51.</span> <span class="nav-text">Dubbo 是什么</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B%E4%BB%80%E4%B9%88%E6%98%AF%EF%BC%9F"><span class="nav-number">52.</span> <span class="nav-text">Dubbo 执行流程什么是？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E5%8F%AF%E4%BB%A5%E5%AF%B9%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E7%BC%93%E5%AD%98%E5%90%97%EF%BC%9F"><span class="nav-number">53.</span> <span class="nav-text">Dubbo 可以对结果进行缓存吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E6%94%AF%E6%8C%81%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E5%90%97%EF%BC%9F"><span class="nav-number">54.</span> <span class="nav-text">Dubbo 支持分布式事务吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-SPI-%E5%92%8C-Java-SPI-%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-number">55.</span> <span class="nav-text">Dubbo SPI 和 Java SPI 区别？</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#JDK-SPI"><span class="nav-number">55.0.0.1.</span> <span class="nav-text">JDK SPI</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DUBBO-SPI"><span class="nav-number">55.0.0.2.</span> <span class="nav-text">DUBBO SPI</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%98%AF%E5%A6%82%E4%BD%95%E5%8A%A0%E8%BD%BD%E5%88%B0-Spring-%E4%B8%AD%E7%9A%84%EF%BC%9F"><span class="nav-number">56.</span> <span class="nav-text">Dubbo 配置文件是如何加载到 Spring 中的？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-Monitor-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%9F"><span class="nav-number">57.</span> <span class="nav-text">Dubbo Monitor 实现原理？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%EF%BC%8C%E5%A4%B1%E8%B4%A5%E9%87%8D%E8%AF%95%E6%80%8E%E4%B9%88%E5%81%9A%EF%BC%9F"><span class="nav-number">58.</span> <span class="nav-text">Dubbo 服务降级，失败重试怎么做？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo-%E9%9B%86%E7%BE%A4%E5%AE%B9%E9%94%99%E6%9C%89%E5%87%A0%E7%A7%8D%E6%96%B9%E6%A1%88%EF%BC%9F"><span class="nav-number">59.</span> <span class="nav-text">Dubbo 集群容错有几种方案？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8C%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%A4%9A%E4%B8%AA%E6%B3%A8%E5%86%8C%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E5%8F%AF%E4%BB%A5%E7%9B%B4%E8%BF%9E%E6%9F%90%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%90%97%EF%BC%9F"><span class="nav-number">60.</span> <span class="nav-text">同一个服务多个注册的情况下可以直连某一个服务吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%A4%B1%E6%95%88%E8%B8%A2%E5%87%BA%E6%98%AF%E4%BB%80%E4%B9%88%E5%8E%9F%E7%90%86%EF%BC%9F-1"><span class="nav-number">61.</span> <span class="nav-text">服务提供者能实现失效踢出是什么原理？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E4%B8%8A%E7%BA%BF%E6%80%8E%E4%B9%88%E4%B8%8D%E5%BD%B1%E5%93%8D%E6%97%A7%E7%89%88%E6%9C%AC%EF%BC%9F"><span class="nav-number">62.</span> <span class="nav-text">服务上线怎么不影响旧版本？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8%E9%93%BE%E8%BF%87%E9%95%BF%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="nav-number">63.</span> <span class="nav-text">如何解决服务调用链过长的问题？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dubbo%E7%9A%84%E6%9C%8D%E5%8A%A1%E8%AF%B7%E6%B1%82%E5%A4%B1%E8%B4%A5%E6%80%8E%E4%B9%88%E5%A4%84%E7%90%86"><span class="nav-number">64.</span> <span class="nav-text">Dubbo的服务请求失败怎么处理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%87%8D%E8%BF%9E%E6%9C%BA%E5%88%B6%E4%BC%9A%E4%B8%8D%E4%BC%9A%E9%80%A0%E6%88%90%E9%94%99%E8%AF%AF"><span class="nav-number">65.</span> <span class="nav-text">重连机制会不会造成错误</span></a></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">褚岩</p><div class="site-description" itemprop="description">路漫漫其修远兮，吾将上下而求索</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">43</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">33</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">64</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="mailto:bluespacecapt@gmail.com" title="E-Mail → mailto:bluespacecapt@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://javainterviewguide.github.io/publishes/b9efb3c36627.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="褚岩"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Java面试指南"><meta itemprop="description" content="路漫漫其修远兮，吾将上下而求索"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Dubbo | Java面试指南"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Dubbo</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2023-12-20 16:22:55" itemprop="dateCreated datePublished" datetime="2023-12-20T16:22:55+08:00">2023-12-20</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2024-01-04 16:53:05" itemprop="dateModified" datetime="2024-01-04T16:53:05+08:00">2024-01-04</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">分布式</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>12k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>11 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><h1 id="Dubbo是什么？"><a href="#Dubbo是什么？" class="headerlink" title="Dubbo是什么？"></a>Dubbo是什么？</h1><ul><li>Dubbo是一个分布式服务框架，致力于提供高性能和透明化的RPC远程服务调用方案，以及SOA服务治理方案</li><li>简单的说，dubbo就是个服务框架，如果没有分布式的需求，其实是不需要用的，只有在分布式的时候，才有dubbo这样的分布式服务框架的需求，并且本质上是个服务调用的东东，说白了就是个远程服务调用的分布式框架（告别Web Service模式中的WSdl，以服务者与消费者的方式在dubbo上注册）</li><li>其核心部分包含:<ul><li>远程通讯: 提供对多种基于长连接的NIO框架抽象封装，包括多种线程模型，序列化，以及“请求-响应”模式的信息交换方式。</li><li>集群容错: 提供基于接口方法的透明远程过程调用，包括多协议支持，以及软负载均衡，失败容错，地址路由，动态配置等集群支持。</li><li>自动发现: 基于注册中心目录服务，使服务消费方能动态的查找服务提供方，使地址透明，使服务提供方可以平滑增加或减少机器。</li></ul></li></ul><h1 id="Dubbo能做什么？"><a href="#Dubbo能做什么？" class="headerlink" title="Dubbo能做什么？"></a>Dubbo能做什么？</h1><ul><li>透明化的远程方法调用，就像调用本地方法一样调用远程方法，只需简单配置，没有任何API侵入。</li><li>软负载均衡及容错机制，可在内网替代F5等硬件负载均衡器，降低成本，减少单点。</li><li>服务自动注册与发现，不再需要写死服务提供方地址，注册中心基于接口名查询服务提供者的IP地址，并且能够平滑添加或删除服务提供者。</li><li>Dubbo采用全spring配置方式，透明化接入应用，对应用没有任何API侵入，只需用Spring加载Dubbo的配置即可，Dubbo基于Spring的Schema扩展进行加载。</li><li>之前使用Web Service，我想测试接口可以通过模拟消息的方式通过soapui或LR进行功能测试或性能测试。但现在使用Dubbo，接口之间不能直接交互，我尝试通过模拟消费者地址测试，结果不堪入目，再而使用jmeter通过junit进行测试，但还是需要往dubbo上去注册，如果再不给提供源代码的前提下，这个测试用例不好写啊….</li></ul><h1 id="dubbo的架构"><a href="#dubbo的架构" class="headerlink" title="dubbo的架构"></a>dubbo的架构</h1><ul><li>Provider: 暴露服务的服务提供方。</li><li>Consumer: 调用远程服务的服务消费方。</li><li>Registry: 服务注册与发现的注册中心。</li><li>Monitor: 统计服务的调用次调和调用时间的监控中心。</li><li>Container: 服务运行容器。</li><li>这点我觉得非常好，角色分明，可以根据每个节点角色的状态来确定该服务是否正常。</li><li>调用关系说明：<ul><li>服务容器负责启动，加载，运行服务提供者。</li><li>服务提供者在启动时，向注册中心注册自己提供的服务。</li><li>服务消费者在启动时，向注册中心订阅自己所需的服务。</li><li>注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长连接推送变更数据给消费者。</li><li>服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台调用。</li><li>服务消费者和提供者，在内存中累计调用次数和调用时间，定时每分钟发送一次统计数据到监控中心。</li></ul></li></ul><h1 id="Dubbo中zookeeper做注册中心，如果注册中心集群都挂掉，发布者和订阅者之间还能通信么"><a href="#Dubbo中zookeeper做注册中心，如果注册中心集群都挂掉，发布者和订阅者之间还能通信么" class="headerlink" title="Dubbo中zookeeper做注册中心，如果注册中心集群都挂掉，发布者和订阅者之间还能通信么"></a>Dubbo中zookeeper做注册中心，如果注册中心集群都挂掉，发布者和订阅者之间还能通信么</h1><ul><li>可以通信的，启动dubbo时，消费者会从zk拉取注册的生产者的地址接口等数据，缓存在本地。每次调用时，按照本地存储的地址进行调用；</li><li>注册中心对等集群，任意一台宕机后，将会切换到另一台；注册中心全部宕机后，服务的提供者和消费者仍能通过本地缓存通讯。服务提供者无状态，任一台 宕机后，不影响使用；服务提供者全部宕机，服务消费者会无法使用，并无限次重连等待服务者恢复；</li><li>挂掉是不要紧的，但前提是你没有增加新的服务，如果你要调用新的服务，则是不能办到的。</li></ul><h1 id="dubbo服务负载均衡策略"><a href="#dubbo服务负载均衡策略" class="headerlink" title="dubbo服务负载均衡策略"></a>dubbo服务负载均衡策略</h1><ul><li>随机，按权重设置随机概率。在一个截面上碰撞的概率高，但调用量越大分布越均匀，而且按概率使用权重后也比较均匀，有利于动态调整提供者权重。(权重可以在dubbo管控台配置)</li><li>轮循，按公约后的权重设置轮循比率。存在慢的提供者累积请求问题，比如：第二台机器很慢，但没挂，当请求调到第二台时就卡在那，久而久之，所有请求都卡在调到第二台上。</li><li>最少活跃调用数，相同活跃数的随机，活跃数指调用前后计数差。使慢的提供者收到更少请求，因为越慢的提供者的调用前后计数差会越大。</li><li>一致性Hash，相同参数的请求总是发到同一提供者。当某一台提供者挂时，原本发往该提供者的请求，基于虚拟节点，平摊到其它提供者，不会引起剧烈变动。缺省只对第一个参数Hash，如果要修改，请配置<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;dubbo:parameter key=&quot;hash.arguments&quot; value=&quot;0,1&quot; /&gt;</span><br></pre></td></tr></table></figure></li></ul><p>缺省用160份虚拟节点，如果要修改，请配置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;dubbo:parameter key=&quot;hash.nodes&quot; value=&quot;320&quot; /&gt;</span><br></pre></td></tr></table></figure><h1 id="Dubbo在安全机制方面是如何解决的"><a href="#Dubbo在安全机制方面是如何解决的" class="headerlink" title="Dubbo在安全机制方面是如何解决的"></a>Dubbo在安全机制方面是如何解决的</h1><ul><li>Dubbo通过Token令牌防止用户绕过注册中心直连，然后在注册中心上管理授权。Dubbo还提供服务黑白名单，来控制服务所允许的调用方。</li></ul><h1 id="dubbo连接注册中心和直连的区别"><a href="#dubbo连接注册中心和直连的区别" class="headerlink" title="dubbo连接注册中心和直连的区别"></a>dubbo连接注册中心和直连的区别</h1><ul><li>在开发及测试环境下，经常需要绕过注册中心，只测试指定服务提供者，这时候可能需要点对点直连，<br>点对点直联方式，将以服务接口为单位，忽略注册中心的提供者列表，</li><li>服务注册中心，动态的注册和发现服务，使服务的位置透明，并通过在消费方获取服务提供方地址列表，实现软负载均衡和Failover， 注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长连接推送变更数据给消费者。</li><li>服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台调用。注册中心负责服务地址的注册与查找，相当于目录服务，服务提供者和消费者只在启动时与注册中心交互，注册中心不转发请求，服务消费者向注册中心获取服务提供者地址列表，并根据负载算法直接调用提供者，注册中心，服务提供者，服务消费者三者之间均为长连接，监控中心除外，注册中心通过长连接感知服务提供者的存在，服务提供者宕机，注册中心将立即推送事件通知消费者</li><li>注册中心和监控中心全部宕机，不影响已运行的提供者和消费者，消费者在本地缓存了提供者列表</li><li>注册中心和监控中心都是可选的，服务消费者可以直连服务提供者。</li></ul><h1 id="dubbo服务集群配置（集群容错模式）"><a href="#dubbo服务集群配置（集群容错模式）" class="headerlink" title="dubbo服务集群配置（集群容错模式）"></a>dubbo服务集群配置（集群容错模式）</h1><ul><li>在集群调用失败时，Dubbo 提供了多种容错方案，缺省为 failover 重试。可以自行扩展集群容错策略</li></ul><h4 id="Failover-Cluster-默认"><a href="#Failover-Cluster-默认" class="headerlink" title="Failover Cluster(默认)"></a>Failover Cluster(默认)</h4><ul><li>失败自动切换，当出现失败，重试其它服务器。(缺省)通常用于读操作，但重试会带来更长延迟。可通过retries&#x3D;”2”来设置重试次数(不含第一次)。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;dubbo:service retries=&quot;2&quot; cluster=&quot;failover&quot;/&gt;</span><br><span class="line">         或：</span><br><span class="line">         &lt;dubbo:reference retries=&quot;2&quot; cluster=&quot;failover&quot;/&gt;</span><br><span class="line">         cluster=&quot;failover&quot;可以不用写,因为默认就是failover</span><br></pre></td></tr></table></figure></li></ul><h4 id="Failfast-Cluster"><a href="#Failfast-Cluster" class="headerlink" title="Failfast Cluster"></a>Failfast Cluster</h4><ul><li>快速失败，只发起一次调用，失败立即报错。通常用于非幂等性的写操作，比如新增记录。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dubbo:service cluster=&quot;failfast&quot; /&gt;</span><br><span class="line">         或：</span><br><span class="line">         &lt;dubbo:reference cluster=&quot;failfast&quot; /&gt;</span><br><span class="line">    cluster=&quot;failfast&quot;和 把cluster=&quot;failover&quot;、retries=&quot;0&quot;是一样的效果,retries=&quot;0&quot;就是不重试</span><br></pre></td></tr></table></figure></li></ul><h4 id="Failsafe-Cluster"><a href="#Failsafe-Cluster" class="headerlink" title="Failsafe Cluster"></a>Failsafe Cluster</h4><ul><li>失败安全，出现异常时，直接忽略。通常用于写入审计日志等操作。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;dubbo:service cluster=&quot;failsafe&quot; /&gt;</span><br><span class="line">         或：</span><br><span class="line">         &lt;dubbo:reference cluster=&quot;failsafe&quot; /&gt;</span><br></pre></td></tr></table></figure></li></ul><h4 id="Failback-Cluster"><a href="#Failback-Cluster" class="headerlink" title="Failback Cluster"></a>Failback Cluster</h4><ul><li>失败自动恢复，后台记录失败请求，定时重发。通常用于消息通知操作。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;dubbo:service cluster=&quot;failback&quot; /&gt;</span><br><span class="line">         或：</span><br><span class="line">         &lt;dubbo:reference cluster=&quot;failback&quot; /&gt;</span><br></pre></td></tr></table></figure></li></ul><h4 id="Forking-Cluster"><a href="#Forking-Cluster" class="headerlink" title="Forking Cluster"></a>Forking Cluster</h4><ul><li>并行调用多个服务器，只要一个成功即返回。通常用于实时性要求较高的读操作，但需要浪费更多服务资源。可通过forks&#x3D;”2”来设置最大并行数。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;dubbo:service cluster=“forking&quot; forks=&quot;2&quot;/&gt;</span><br><span class="line">         或：</span><br><span class="line">         &lt;dubbo:reference cluster=“forking&quot; forks=&quot;2&quot;/&gt;</span><br><span class="line">服务端服务级别</span><br><span class="line">　　　　&lt;dubbo:service interface=&quot;...&quot; loadbalance=&quot;roundrobin&quot; /&gt;</span><br><span class="line">　　客户端服务级别</span><br><span class="line">　　　　&lt;dubbo:reference interface=&quot;...&quot; loadbalance=&quot;roundrobin&quot; /&gt;</span><br><span class="line">　　服务端方法级别　　　&lt;dubbo:service interface=&quot;...&quot;&gt; &lt;dubbo:method name=&quot;...&quot; loadbalance=&quot;roundrobin&quot;/&gt; &lt;/dubbo:service&gt;</span><br><span class="line">客户端方法级别　        &lt;dubbo:reference interface=&quot;...&quot;&gt; &lt;dubbo:method name=&quot;...&quot; loadbalance=&quot;roundrobin&quot;/&gt; &lt;/dubbo:reference&gt;</span><br></pre></td></tr></table></figure></li></ul><h1 id="dubbo通信协议dubbo协议为什么要消费者比提供者个数多："><a href="#dubbo通信协议dubbo协议为什么要消费者比提供者个数多：" class="headerlink" title="dubbo通信协议dubbo协议为什么要消费者比提供者个数多："></a>dubbo通信协议dubbo协议为什么要消费者比提供者个数多：</h1><ul><li>因dubbo协议采用单一长连接，假设网络为千兆网卡(1024Mbit&#x3D;128MByte)，根据测试经验数据每条连接最多只能压满7MByte(不同的环境可能不一样，供参考)，理论上1个服务提供者需要20个服务消费者才能压满网卡。</li></ul><h1 id="dubbo通信协议dubbo协议为什么不能传大包"><a href="#dubbo通信协议dubbo协议为什么不能传大包" class="headerlink" title="dubbo通信协议dubbo协议为什么不能传大包"></a>dubbo通信协议dubbo协议为什么不能传大包</h1><ul><li>因dubbo协议采用单一长连接，</li><li>如果每次请求的数据包大小为500KByte，假设网络为千兆网卡(1024Mbit&#x3D;128MByte)，每条连接最大7MByte(不同的环境可能不一样，供参考)，</li><li>单个服务提供者的TPS(每秒处理事务数)最大为：128MByte &#x2F; 500KByte &#x3D; 262。</li><li>单个消费者调用单个服务提供者的TPS(每秒处理事务数)最大为：7MByte &#x2F; 500KByte &#x3D; 14。</li><li>如果能接受，可以考虑使用，否则网络将成为瓶颈。</li></ul><h1 id="dubbo通信协议dubbo协议为什么采用异步单一长连接"><a href="#dubbo通信协议dubbo协议为什么采用异步单一长连接" class="headerlink" title="dubbo通信协议dubbo协议为什么采用异步单一长连接"></a>dubbo通信协议dubbo协议为什么采用异步单一长连接</h1><ul><li>因为服务的现状大都是服务提供者少，通常只有几台机器，</li><li>而服务的消费者多，可能整个网站都在访问该服务，</li><li>比如Morgan的提供者只有6台提供者，却有上百台消费者，每天有1.5亿次调用，</li><li>如果采用常规的hessian服务，服务提供者很容易就被压跨，</li><li>通过单一连接，保证单一消费者不会压死提供者，</li><li>长连接，减少连接握手验证等，</li><li>并使用异步IO，复用线程池，防止C10K问题。</li></ul><h1 id="dubbo通信协议dubbo协议适用范围和适用场景"><a href="#dubbo通信协议dubbo协议适用范围和适用场景" class="headerlink" title="dubbo通信协议dubbo协议适用范围和适用场景"></a>dubbo通信协议dubbo协议适用范围和适用场景</h1><ul><li>适用范围：传入传出参数数据包较小（建议小于100K），消费者比提供者个数多，单一消费者无法压满提供者，尽量不要用dubbo协议传输大文件或超大字符串。</li><li>适用场景：常规远程服务方法调用</li><li>dubbo协议补充：<ul><li>连接个数：单连接</li><li>连接方式：长连接</li><li>传输协议：TCP</li><li>传输方式：NIO异步传输</li><li>序列化：Hessian二进制序列化</li></ul></li></ul><h1 id="RMI协议"><a href="#RMI协议" class="headerlink" title="RMI协议"></a>RMI协议</h1><ul><li>RMI协议采用JDK标准的java.rmi.*实现，采用阻塞式短连接和JDK标准序列化方式，Java标准的远程调用协议。</li><li>连接个数：多连接</li><li>连接方式：短连接</li><li>传输协议：TCP</li><li>传输方式：同步传输</li><li>序列化：Java标准二进制序列化</li><li>适用范围：传入传出参数数据包大小混合，消费者与提供者个数差不多，可传文件。</li><li>适用场景：常规远程服务方法调用，与原生RMI服务互操作</li></ul><h1 id="Hessian协议"><a href="#Hessian协议" class="headerlink" title="Hessian协议"></a>Hessian协议</h1><ul><li>Hessian协议用于集成Hessian的服务，Hessian底层采用Http通讯，采用Servlet暴露服务，Dubbo缺省内嵌Jetty作为服务器实现</li><li>基于Hessian的远程调用协议。</li><li>连接个数：多连接</li><li>连接方式：短连接</li><li>传输协议：HTTP</li><li>传输方式：同步传输</li><li>序列化：Hessian二进制序列化</li><li>适用范围：传入传出参数数据包较大，提供者比消费者个数多，提供者压力较大，可传文件。</li><li>适用场景：页面传输，文件传输，或与原生hessian服务互操作</li></ul><h1 id="http"><a href="#http" class="headerlink" title="http"></a>http</h1><ul><li>采用Spring的HttpInvoker实现</li><li>基于http表单的远程调用协议。</li><li>连接个数：多连接</li><li>连接方式：短连接</li><li>传输协议：HTTP</li><li>传输方式：同步传输</li><li>序列化：表单序列化（JSON）</li><li>适用范围：传入传出参数数据包大小混合，提供者比消费者个数多，可用浏览器查看，可用表单或URL传入参数，暂不支持传文件。</li><li>适用场景：需同时给应用程序和浏览器JS使用的服务。</li></ul><h1 id="Webservice"><a href="#Webservice" class="headerlink" title="Webservice"></a>Webservice</h1><ul><li>基于CXF的frontend-simple和transports-http实现</li><li>基于WebService的远程调用协议。</li><li>连接个数：多连接</li><li>连接方式：短连接</li><li>传输协议：HTTP</li><li>传输方式：同步传输</li><li>序列化：SOAP文本序列化</li><li>适用场景：系统集成，跨语言调用。</li></ul><h1 id="Thrif"><a href="#Thrif" class="headerlink" title="Thrif"></a>Thrif</h1><ul><li>Thrift是Facebook捐给Apache的一个RPC框架，当前 dubbo 支持的 thrift 协议是对 thrift 原生协议的扩展，在原生协议的基础上添加了一些额外的头信息，比如service name，magic number等</li></ul><h1 id="为什么要⽤Dubbo？"><a href="#为什么要⽤Dubbo？" class="headerlink" title="为什么要⽤Dubbo？"></a>为什么要⽤Dubbo？</h1><ul><li>因为是阿⾥开源项⽬，国内很多互联⽹公司都在⽤，已经经过很多线上考验。</li><li>内部使⽤了 Netty、Zookeeper，保证了⾼性能⾼可⽤性。</li><li>使⽤ Dubbo 可以将核⼼业务抽取出来，作为独⽴的服务，逐渐形成稳定的服务中⼼，可⽤于提⾼业务复⽤灵活扩展，使前端应⽤能更快速的响应多变的市场需求。</li><li>最重要的⼀点是，分布式架构可以承受更⼤规模的并发流量。</li></ul><h1 id="Dubbo-和-Spring-Cloud-有什么区别？"><a href="#Dubbo-和-Spring-Cloud-有什么区别？" class="headerlink" title="Dubbo 和 Spring Cloud 有什么区别？"></a>Dubbo 和 Spring Cloud 有什么区别？</h1><ul><li>两个没关联，如果硬要说区别，有以下⼏点。<ul><li><p>通信⽅式不同</p><ul><li>Dubbo 使⽤的是 RPC 通信，⽽ Spring Cloud 使⽤的是 HTTP RESTFul ⽅式。</li><li>dubbo由于是⼆进制的传输，占⽤带宽会更少（基于netty等）；springCloud是http协议传输，带宽会⽐较多，同时使⽤http协议（http+restful api）⼀般会使⽤JSON报⽂，消耗会更⼤。</li></ul></li><li><p>dubbo的开发难度较⼤，原因是dubbo的jar包依赖（存在代码级别的强依赖）问题很多⼤型⼯程⽆法解决；</p></li><li><p>springcloud的接⼝协议约定⽐较⾃由且松散，需要有强有⼒的⾏政措施来限制接⼝⽆序升级。</p></li><li><p>dubbo的改进是通过dubbofilter，很多东⻄没有，需要⾃⼰继承，如监控，如⽇志，如限流，如追踪。</p></li><li><p>springcloud具有配置管理、服务发现、断路器、智能路由、微代理、控制总线、⼀次性token、全局锁、选主、分布式会话和集群状态等，满⾜了构建微服务所需的所有解决⽅案。</p></li><li><p>组成部分不同</p></li></ul></li></ul><h1 id="dubbo都⽀持什么协议，推荐⽤哪种？"><a href="#dubbo都⽀持什么协议，推荐⽤哪种？" class="headerlink" title="dubbo都⽀持什么协议，推荐⽤哪种？"></a>dubbo都⽀持什么协议，推荐⽤哪种？</h1><ul><li>dubbo:&#x2F;&#x2F;（推荐）</li><li>rmi:&#x2F;&#x2F;</li><li>hessian:&#x2F;&#x2F;</li><li>http:&#x2F;&#x2F;</li><li>webservice:&#x2F;&#x2F;</li><li>thrift:&#x2F;&#x2F;</li><li>memcached:&#x2F;&#x2F;</li><li>redis:&#x2F;&#x2F;</li><li>rest:&#x2F;&#x2F;</li></ul><h1 id="Dubbo需要-Web-容器吗？"><a href="#Dubbo需要-Web-容器吗？" class="headerlink" title="Dubbo需要 Web 容器吗？"></a>Dubbo需要 Web 容器吗？</h1><ul><li>不需要，如果硬要⽤ Web 容器，只会增加复杂性，也浪费资源。</li></ul><h1 id="Dubbo内置了哪⼏种服务容器？"><a href="#Dubbo内置了哪⼏种服务容器？" class="headerlink" title="Dubbo内置了哪⼏种服务容器？"></a>Dubbo内置了哪⼏种服务容器？</h1><ul><li>Spring Container</li><li>Jetty Container</li><li>Log4j Container</li><li>Dubbo 的服务容器只是⼀个简单的 Main ⽅法，并加载⼀个简单的 Spring 容器，⽤于暴露服务。</li></ul><h1 id="Dubbo默认使⽤什么注册中⼼，还有别的选择吗？"><a href="#Dubbo默认使⽤什么注册中⼼，还有别的选择吗？" class="headerlink" title="Dubbo默认使⽤什么注册中⼼，还有别的选择吗？"></a>Dubbo默认使⽤什么注册中⼼，还有别的选择吗？</h1><ul><li>推荐使⽤ Zookeeper 作为注册中⼼，还有 Redis、Multicast、Simple 注册中⼼，但不推荐。</li><li>redis⽅案需要服务器时间同步，且性能消耗过⼤。</li></ul><h1 id="Dubbo有哪⼏种配置⽅式？"><a href="#Dubbo有哪⼏种配置⽅式？" class="headerlink" title="Dubbo有哪⼏种配置⽅式？"></a>Dubbo有哪⼏种配置⽅式？</h1><ul><li>Spring 配置⽅式</li><li>Java API 配置⽅式</li></ul><h1 id="在-Provider-上可以配置的-Consumer-端的属性有哪些？"><a href="#在-Provider-上可以配置的-Consumer-端的属性有哪些？" class="headerlink" title="在 Provider 上可以配置的 Consumer 端的属性有哪些？"></a>在 Provider 上可以配置的 Consumer 端的属性有哪些？</h1><ul><li>timeout：⽅法调⽤超时</li><li>retries：失败重试次数，默认重试 2 次</li><li>loadbalance：负载均衡算法，默认随机</li><li>actives 消费者端，最⼤并发调⽤限制</li></ul><h1 id="Dubbo启动时如果依赖的服务不可⽤会怎样？"><a href="#Dubbo启动时如果依赖的服务不可⽤会怎样？" class="headerlink" title="Dubbo启动时如果依赖的服务不可⽤会怎样？"></a>Dubbo启动时如果依赖的服务不可⽤会怎样？</h1><ul><li>Dubbo 缺省会在启动时检查依赖的服务是否可⽤，不可⽤时会抛出异常，阻⽌ Spring 初始化完成，默认 check&#x3D;”true”，可以通过 check&#x3D;”false” 关闭检查。</li></ul><h1 id="Dubbo推荐使⽤什么序列化框架，你知道的还有哪些？"><a href="#Dubbo推荐使⽤什么序列化框架，你知道的还有哪些？" class="headerlink" title="Dubbo推荐使⽤什么序列化框架，你知道的还有哪些？"></a>Dubbo推荐使⽤什么序列化框架，你知道的还有哪些？</h1><ul><li>推荐使⽤Hessian序列化，还有Duddo、FastJson、Java⾃带序列化。</li></ul><h1 id="Dubbo默认使⽤的是什么通信框架，还有别的选择吗？"><a href="#Dubbo默认使⽤的是什么通信框架，还有别的选择吗？" class="headerlink" title="Dubbo默认使⽤的是什么通信框架，还有别的选择吗？"></a>Dubbo默认使⽤的是什么通信框架，还有别的选择吗？</h1><ul><li>Dubbo 默认使⽤ Netty 框架，也是推荐的选择，另外内容还集成有Mina、Grizzly。</li></ul><h1 id="注册了多个同⼀样的服务，如果测试指定的某⼀个服务呢？"><a href="#注册了多个同⼀样的服务，如果测试指定的某⼀个服务呢？" class="headerlink" title="注册了多个同⼀样的服务，如果测试指定的某⼀个服务呢？"></a>注册了多个同⼀样的服务，如果测试指定的某⼀个服务呢？</h1><ul><li>可以配置环境点对点直连，绕过注册中⼼，将以服务接⼝为单位，忽略注册中⼼的提供者列表。</li></ul><h1 id="Dubbo⽀持服务多协议吗？"><a href="#Dubbo⽀持服务多协议吗？" class="headerlink" title="Dubbo⽀持服务多协议吗？"></a>Dubbo⽀持服务多协议吗？</h1><ul><li>Dubbo 允许配置多协议，在不同服务上⽀持不同协议或者同⼀服务上同时⽀持多种协议。</li></ul><h1 id="当⼀个服务接⼝有多种实现时怎么做？"><a href="#当⼀个服务接⼝有多种实现时怎么做？" class="headerlink" title="当⼀个服务接⼝有多种实现时怎么做？"></a>当⼀个服务接⼝有多种实现时怎么做？</h1><ul><li>当⼀个接⼝有多种实现时，可以⽤ group 属性来分组，服务提供⽅和消费⽅都指定同⼀个 group 即可。</li></ul><h1 id="服务上线怎么兼容旧版本？"><a href="#服务上线怎么兼容旧版本？" class="headerlink" title="服务上线怎么兼容旧版本？"></a>服务上线怎么兼容旧版本？</h1><ul><li>可以⽤版本号（version）过渡，多个不同版本的服务注册到注册中⼼，版本号不同的服务相互间不引⽤。这个和服务分组的概念有⼀点类似。</li></ul><h1 id="Dubbo可以对结果进⾏缓存吗？"><a href="#Dubbo可以对结果进⾏缓存吗？" class="headerlink" title="Dubbo可以对结果进⾏缓存吗？"></a>Dubbo可以对结果进⾏缓存吗？</h1><ul><li>可以，Dubbo 提供了声明式缓存，⽤于加速热⻔数据的访问速度，以减少⽤户加缓存的⼯作量。</li></ul><h1 id="Dubbo服务之间的调⽤是阻塞的吗？"><a href="#Dubbo服务之间的调⽤是阻塞的吗？" class="headerlink" title="Dubbo服务之间的调⽤是阻塞的吗？"></a>Dubbo服务之间的调⽤是阻塞的吗？</h1><ul><li>默认是同步等待结果阻塞的，⽀持异步调⽤。</li><li>Dubbo 是基于 NIO 的⾮阻塞实现并⾏调⽤，客户端不需要启动多线程即可完成并⾏调⽤多个远程服务，相对多线程开销较⼩，异步调⽤会返回⼀个 Future 对象。</li></ul><h1 id="Dubbo⽀持分布式事务吗？"><a href="#Dubbo⽀持分布式事务吗？" class="headerlink" title="Dubbo⽀持分布式事务吗？"></a>Dubbo⽀持分布式事务吗？</h1><ul><li>⽬前暂时不⽀持，后续可能采⽤基于 JTA&#x2F;XA 规范实现，如以图所示。</li></ul><h1 id="Dubbo-telnet-命令能做什么？"><a href="#Dubbo-telnet-命令能做什么？" class="headerlink" title="Dubbo telnet 命令能做什么？"></a>Dubbo telnet 命令能做什么？</h1><ul><li>dubbo 通过 telnet 命令来进⾏服务治理</li><li>telnet localhost 8090</li></ul><h1 id="Dubbo⽀持服务降级吗？"><a href="#Dubbo⽀持服务降级吗？" class="headerlink" title="Dubbo⽀持服务降级吗？"></a>Dubbo⽀持服务降级吗？</h1><ul><li>Dubbo 2.2.0 以上版本⽀持。</li></ul><h1 id="Dubbo如何优雅停机？"><a href="#Dubbo如何优雅停机？" class="headerlink" title="Dubbo如何优雅停机？"></a>Dubbo如何优雅停机？</h1><ul><li>Dubbo 是通过 JDK 的 ShutdownHook 来完成优雅停机的，所以如果使⽤ kill -9 PID 等强制关闭指令，是不会执⾏优雅停机的，只有通过 kill PID 时，才会执⾏。</li></ul><h1 id="服务提供者能实现失效踢出是什么原理？"><a href="#服务提供者能实现失效踢出是什么原理？" class="headerlink" title="服务提供者能实现失效踢出是什么原理？"></a>服务提供者能实现失效踢出是什么原理？</h1><ul><li>服务失效踢出基于 Zookeeper 的临时节点原理。 （服务机器会在zk上注册⼀个临时节点，服务失效则临时节点被删除）</li></ul><h1 id="如何解决服务调⽤链过⻓的问题？"><a href="#如何解决服务调⽤链过⻓的问题？" class="headerlink" title="如何解决服务调⽤链过⻓的问题？"></a>如何解决服务调⽤链过⻓的问题？</h1><ul><li>Dubbo 可以使⽤ Pinpoint 和 Apache Skywalking(Incubator) 实现分布式服务追踪，当然还有其他很多⽅案。</li></ul><h1 id="服务读写推荐的容错策略是怎样的？"><a href="#服务读写推荐的容错策略是怎样的？" class="headerlink" title="服务读写推荐的容错策略是怎样的？"></a>服务读写推荐的容错策略是怎样的？</h1><ul><li>读操作建议使⽤ Failover 失败⾃动切换，默认重试两次其他服务器。</li><li>写操作建议使⽤ Failfast 快速失败，发⼀次调⽤失败就⽴即报错。</li></ul><h1 id="Dubbo必须依赖的包有哪些？"><a href="#Dubbo必须依赖的包有哪些？" class="headerlink" title="Dubbo必须依赖的包有哪些？"></a>Dubbo必须依赖的包有哪些？</h1><ul><li>Dubbo 必须依赖 JDK，其他为可选。</li></ul><h1 id="Dubbo的管理控制台能做什么？"><a href="#Dubbo的管理控制台能做什么？" class="headerlink" title="Dubbo的管理控制台能做什么？"></a>Dubbo的管理控制台能做什么？</h1><ul><li>管理控制台主要包含：路由规则，动态配置，服务降级，访问控制，权重调整，负载均衡，等管理功能。</li></ul><h1 id="说说-Dubbo-服务暴露的过程。"><a href="#说说-Dubbo-服务暴露的过程。" class="headerlink" title="说说 Dubbo 服务暴露的过程。"></a>说说 Dubbo 服务暴露的过程。</h1><ul><li>Dubbo 会在 Spring 实例化完 bean 之后，</li><li>在刷新容器最后⼀步发布 ContextRefreshEvent 事件的时候，</li><li>通知实现了ApplicationListener 的 ServiceBean 类进⾏回调 onApplicationEvent 事件⽅法，</li><li>Dubbo 会在这个⽅法中调⽤ ServiceBean ⽗类ServiceConfig 的 export ⽅法，</li><li>⽽该⽅法真正实现了服务的（异步或者⾮异步）发布。</li></ul><h1 id="Dubbo-停⽌维护了吗？"><a href="#Dubbo-停⽌维护了吗？" class="headerlink" title="Dubbo 停⽌维护了吗？"></a>Dubbo 停⽌维护了吗？</h1><ul><li>2014 年开始停⽌维护过⼏年，17 年开始重新维护，并进⼊了 Apache 项⽬。</li></ul><h1 id="Dubbo-和-Dubbox-有什么区别？"><a href="#Dubbo-和-Dubbox-有什么区别？" class="headerlink" title="Dubbo 和 Dubbox 有什么区别？"></a>Dubbo 和 Dubbox 有什么区别？</h1><ul><li>Dubbox 是继 Dubbo 停⽌维护后，当当⽹基于 Dubbo 做的⼀个扩展项⽬，如加了服务可 Restful 调⽤，更新了开源组件等。</li></ul><h1 id="你还了解别的分布式框架吗？"><a href="#你还了解别的分布式框架吗？" class="headerlink" title="你还了解别的分布式框架吗？"></a>你还了解别的分布式框架吗？</h1><ul><li>别的还有 Spring cloud、Facebook 的 Thrift、Twitter 的 Finagle 等。</li></ul><h1 id="Dubbo-能集成-Spring-Boot-吗？"><a href="#Dubbo-能集成-Spring-Boot-吗？" class="headerlink" title="Dubbo 能集成 Spring Boot 吗？"></a>Dubbo 能集成 Spring Boot 吗？</h1><ul><li>可以的，项⽬地址如下。</li><li><a target="_blank" rel="noopener" href="https://github.com/apache/incubator-dubbo-spring-boot-project">https://github.com/apache/incubator-dubbo-spring-boot-project</a></li></ul><h1 id="在使⽤过程中都遇到了些什么问题？"><a href="#在使⽤过程中都遇到了些什么问题？" class="headerlink" title="在使⽤过程中都遇到了些什么问题？"></a>在使⽤过程中都遇到了些什么问题？</h1><ul><li>单⼀⻓连接和NIO异步通讯，适合⼤并发⼩数据量的服务调⽤，以及消费者远⼤于提供者。Dubbo 的设计⽬的是为了满⾜⾼并发⼩数据量的 rpc 调⽤，在⼤数据量下的性能表现并不好，建议使⽤ rmi 或 http 协议。</li></ul><h1 id="你觉得⽤-Dubbo-好还是-Spring-Cloud-好？"><a href="#你觉得⽤-Dubbo-好还是-Spring-Cloud-好？" class="headerlink" title="你觉得⽤ Dubbo 好还是 Spring Cloud 好？"></a>你觉得⽤ Dubbo 好还是 Spring Cloud 好？</h1><ul><li>扩展性的问题，没有好坏，只有适合不适合，不过我好像更倾向于使⽤ Dubbo, Spring Cloud 版本升级太快，组件更新替换太频繁，配置太繁琐，还有很多我觉得是没有 Dubbo 顺⼿的地⽅……</li></ul><h1 id="Dubbo-是什么"><a href="#Dubbo-是什么" class="headerlink" title="Dubbo 是什么"></a>Dubbo 是什么</h1><ul><li>Dubbo 是阿里巴巴公司开源的一个高性能优秀的服务框架，使得应用可通过高性能的 RPC 实现服务的输出和输入功能，可以和 Spring框架无缝集成。</li><li>主要核心部件：<ul><li>Remoting: 网络通信框架，实现了 sync-over-async 和 request-response 消息机制. RPC: 一个远程过程调用的抽象，支持负载均衡、容灾和集群功能</li><li>Registry: 服务目录框架用于服务的注册和服务事件发布和订阅</li><li>Dubbo服务集群-集群容错模式</li><li>Dubbo 服务提供者集群与负载均衡</li></ul></li></ul><h1 id="Dubbo-执行流程什么是？"><a href="#Dubbo-执行流程什么是？" class="headerlink" title="Dubbo 执行流程什么是？"></a>Dubbo 执行流程什么是？</h1><ul><li>start: 启动 Spring 容器时,自动启动 Dubbo 的 Provider</li><li>register: Dubbo 的 Provider 在启动后自动会去注册中心注册内容.注册的内容包括:<ul><li>Provider 的 IP</li><li>Provider 的端口.</li><li>Provider 对外提供的接口列表.哪些方法.哪些接口类</li><li>Dubbo 的版本.</li><li>访问 Provider 的协议.</li></ul></li><li>subscribe: 订阅.当 Consumer 启动时,自动去 Registry 获取到所已注册的服务的信息.</li><li>notify: 通知.当 Provider 的信息发生变化时, 自动由 Registry 向 Consumer 推送通知.</li><li>invoke: 调用. Consumer 调用 Provider 中方法<ul><li>同步请求.消耗一定性能.但是必须是同步请求,因为需要接收调用方法后的结果.</li></ul></li><li>count:次数. 每隔 2 分钟,provoider 和 consumer 自动向 Monitor 发送访问次数.Monitor 进行统计.</li></ul><h1 id="Dubbo-可以对结果进行缓存吗？"><a href="#Dubbo-可以对结果进行缓存吗？" class="headerlink" title="Dubbo 可以对结果进行缓存吗？"></a>Dubbo 可以对结果进行缓存吗？</h1><ul><li>为了提高数据访问的速度。Dubbo 提供了声明式缓存，以减少用户加缓存的工作量</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dubbo:reference</span> <span class="attr">cache</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><ul><li>其实比普通的配置文件就多了一个标签 <code>cache=&quot;true&quot;</code></li></ul><h1 id="Dubbo-支持分布式事务吗？"><a href="#Dubbo-支持分布式事务吗？" class="headerlink" title="Dubbo 支持分布式事务吗？"></a>Dubbo 支持分布式事务吗？</h1><ul><li>目前暂时不支持，可与通过 tcc-transaction 框架实现</li><li>介绍：tcc-transaction 是开源的 TCC 补偿性分布式事务框架</li><li>TCC-Transaction 通过 Dubbo 隐式传参的功能，避免自己对业务代码的入侵。</li></ul><h1 id="Dubbo-SPI-和-Java-SPI-区别？"><a href="#Dubbo-SPI-和-Java-SPI-区别？" class="headerlink" title="Dubbo SPI 和 Java SPI 区别？"></a>Dubbo SPI 和 Java SPI 区别？</h1><h4 id="JDK-SPI"><a href="#JDK-SPI" class="headerlink" title="JDK SPI"></a>JDK SPI</h4><ul><li>JDK 标准的 SPI 会一次性加载所有的扩展实现，如果有的扩展吃实话很耗时，但也没用上，很浪费资源。</li><li>所以只希望加载某个的实现，就不现实了</li></ul><h4 id="DUBBO-SPI"><a href="#DUBBO-SPI" class="headerlink" title="DUBBO SPI"></a>DUBBO SPI</h4><ul><li>对 Dubbo 进行扩展，不需要改动 Dubbo 的源码</li><li>延迟加载，可以一次只加载自己想要加载的扩展实现。</li><li>增加了对扩展点 IOC 和 AOP 的支持，一个扩展点可以直接 setter 注入其它扩展点。</li><li>Dubbo 的扩展机制能很好的支持第三方 IoC 容器，默认支持 Spring Bean。</li></ul><h1 id="Dubbo-配置文件是如何加载到-Spring-中的？"><a href="#Dubbo-配置文件是如何加载到-Spring-中的？" class="headerlink" title="Dubbo 配置文件是如何加载到 Spring 中的？"></a>Dubbo 配置文件是如何加载到 Spring 中的？</h1><ul><li>Spring 容器在启动的时候，会读取到 Spring 默认的一些 schema 以及 Dubbo 自定义的 schema，每个 schema 都会对应一个自己的 NamespaceHandler，NamespaceHandler 里面通过 BeanDefinitionParser 来解析配置信息并转化为需要加载的 bean 对象！</li></ul><h1 id="Dubbo-Monitor-实现原理？"><a href="#Dubbo-Monitor-实现原理？" class="headerlink" title="Dubbo Monitor 实现原理？"></a>Dubbo Monitor 实现原理？</h1><ul><li>Consumer 端在发起调用之前会先走 filter 链；provider 端在接收到请求时也是先走 filter 链，然后才进行真正的业务逻辑处理。</li><li>默认情况下，在 consumer 和 provider 的 filter 链中都会有 Monitorfilter。<ul><li>MonitorFilter 向 DubboMonitor 发送数据</li><li>DubboMonitor 将数据进行聚合后（默认聚合 1min 中的统计数据）暂存到ConcurrentMap&lt;Statistics, AtomicReference&gt; statisticsMap，然后使用一个含有 3 个线程（线程名字：DubboMonitorSendTimer）的线程池每隔 1min 钟，调用 SimpleMonitorService 遍历发送 statisticsMap 中的统计数据，每发送完毕一个，就重置当前的 Statistics 的 AtomicReference</li></ul></li><li>SimpleMonitorService 将这些聚合数据塞入 BlockingQueue queue 中（队列大写为 100000）</li><li>SimpleMonitorService 使用一个后台线程（线程名为：DubboMonitorAsyncWriteLogThread）将 queue 中的数据写入文件（该线程以<br>死循环的形式来写）</li><li>SimpleMonitorService 还会使用一个含有 1 个线程（线程名字：DubboMonitorTimer）的线程池每隔 5min 钟，将文件中的统计数据画成图表</li></ul><h1 id="Dubbo-服务降级，失败重试怎么做？"><a href="#Dubbo-服务降级，失败重试怎么做？" class="headerlink" title="Dubbo 服务降级，失败重试怎么做？"></a>Dubbo 服务降级，失败重试怎么做？</h1><ul><li>可以通过 dubbo:reference 中设置 mock&#x3D;”return null”。mock 的值也可以修改为 true，然后再跟接口同一个路径下实现一个 Mock 类，命名规则是 “接口名称+Mock” 后缀。然后在 Mock 类里实现自己的降级逻辑</li></ul><h1 id="Dubbo-集群容错有几种方案？"><a href="#Dubbo-集群容错有几种方案？" class="headerlink" title="Dubbo 集群容错有几种方案？"></a>Dubbo 集群容错有几种方案？</h1><ul><li>Failover Cluster 失败自动切换，自动重试其它服务器（默认）</li><li>Failfast Cluster 快速失败，立即报错，只发起一次调用</li><li>Failsafe Cluster 失败安全，出现异常时，直接忽略</li><li>Failback Cluster 失败自动恢复，记录失败请求，定时重发</li><li>Forking Cluster 并行调用多个服务器，只要一个成功即返回</li><li>Broadcast Cluster 广播逐个调用所有提供者，任意一个报错则报错</li></ul><h1 id="同一个服务多个注册的情况下可以直连某一个服务吗？"><a href="#同一个服务多个注册的情况下可以直连某一个服务吗？" class="headerlink" title="同一个服务多个注册的情况下可以直连某一个服务吗？"></a>同一个服务多个注册的情况下可以直连某一个服务吗？</h1><ul><li>可以点对点直连，修改配置即可，也可以通过 telnet 直接某个服务。</li></ul><h1 id="服务提供者能实现失效踢出是什么原理？-1"><a href="#服务提供者能实现失效踢出是什么原理？-1" class="headerlink" title="服务提供者能实现失效踢出是什么原理？"></a>服务提供者能实现失效踢出是什么原理？</h1><ul><li>服务失效踢出基于 zookeeper 的临时节点原理。</li></ul><h1 id="服务上线怎么不影响旧版本？"><a href="#服务上线怎么不影响旧版本？" class="headerlink" title="服务上线怎么不影响旧版本？"></a>服务上线怎么不影响旧版本？</h1><ul><li>采用多版本开发，不影响旧版本。</li></ul><h1 id="如何解决服务调用链过长的问题？"><a href="#如何解决服务调用链过长的问题？" class="headerlink" title="如何解决服务调用链过长的问题？"></a>如何解决服务调用链过长的问题？</h1><ul><li>可以结合 zipkin 实现分布式服务追踪。</li></ul><h1 id="Dubbo的服务请求失败怎么处理"><a href="#Dubbo的服务请求失败怎么处理" class="headerlink" title="Dubbo的服务请求失败怎么处理"></a>Dubbo的服务请求失败怎么处理</h1><ul><li>因此，将应用拆分，并抽取出核心服务来解决上述问题，还要考虑负载均衡、服务监控、高可用性、服务隔离与降级、路由策略、完善的容错机制、序列化方案的选择、通信框架的选择、开发人员对底层细节无感知、服务升级兼容性等问题。Dubbo满足了以上所有需求。</li></ul><h1 id="重连机制会不会造成错误"><a href="#重连机制会不会造成错误" class="headerlink" title="重连机制会不会造成错误"></a>重连机制会不会造成错误</h1><ul><li>dubbo在调用服务不成功时，默认会重试2次。</li><li>Dubbo的路由机制，会把超时的请求路由到其他机器上，而不是本机尝试，所以 dubbo的重试机制也能一定程度的保证服务的质量。</li><li>但是如果不合理的配置重试次数，当失败时会进行重试多次，这样在某个时间点出现性能问题，调用方再连续重复调用。</li><li>系统请求变为正常值的retries倍，系统压力会大增，容易引起服务雪崩，需要根据业务情况规划好如何进行异常处理，何时进行重试。</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" rel="tag"><i class="fa fa-tag"></i> 微服务</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" rel="tag"><i class="fa fa-tag"></i> 分布式</a> <a href="/tags/dubbo/" rel="tag"><i class="fa fa-tag"></i> dubbo</a></div><div class="post-nav"><div class="post-nav-item"><a href="/publishes/dffc02696193.html" rel="prev" title="MySQL"><i class="fa fa-angle-left"></i> MySQL</a></div><div class="post-nav-item"><a href="/publishes/5788a7088796.html" rel="next" title="Redis">Redis <i class="fa fa-angle-right"></i></a></div></div></footer></article></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">褚岩</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>站点总字数：</span> <span title="站点总字数">450k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">6:49</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动</div></div></footer><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script size="300" alpha="0.6" zindex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.28/fancybox/fancybox.umd.js" integrity="sha256-ytMJGN3toR+a84u7g7NuHm91VIR06Q41kMWDr2pq7Zo=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script src="/js/third-party/fancybox.js"></script><script src="/js/third-party/pace.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>