<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"javainterviewguide.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.19.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8070896123414715" crossorigin="anonymous"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-TQWRP5B4WS"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TQWRP5B4WS")</script><meta name="description" content="TCP建⽴连接的过程。三次握⼿：  第⼀次握⼿(客户端发送syn包到服务器端)：客户端发送syn包到服务器端，进⼊syn_send状态，等待服务器端的确认； 第⼆次握⼿(服务器返回syn+ack包给客户端)：服务器端收到客户端的syn包，发送syn+ack包给客户端，进⼊syn_recv状态； 第三次握⼿(客服端返回ack包给服务端)：客户端收到服务器端的syn+ack包，发送个ack包到服务器端"><meta property="og:type" content="article"><meta property="og:title" content="计算机网络"><meta property="og:url" content="https://javainterviewguide.github.io/publishes/fca1d6209800.html"><meta property="og:site_name" content="Java后端面试指南"><meta property="og:description" content="TCP建⽴连接的过程。三次握⼿：  第⼀次握⼿(客户端发送syn包到服务器端)：客户端发送syn包到服务器端，进⼊syn_send状态，等待服务器端的确认； 第⼆次握⼿(服务器返回syn+ack包给客户端)：服务器端收到客户端的syn包，发送syn+ack包给客户端，进⼊syn_recv状态； 第三次握⼿(客服端返回ack包给服务端)：客户端收到服务器端的syn+ack包，发送个ack包到服务器端"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2023-12-20T08:11:54.000Z"><meta property="article:modified_time" content="2023-12-22T08:55:15.624Z"><meta property="article:author" content="褚岩"><meta property="article:tag" content="网络"><meta property="article:tag" content="tcp"><meta property="article:tag" content="http"><meta property="article:tag" content="https"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://javainterviewguide.github.io/publishes/fca1d6209800.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://javainterviewguide.github.io/publishes/fca1d6209800.html","path":"publishes/fca1d6209800.html","title":"计算机网络"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>计算机网络 | Java后端面试指南</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Java后端面试指南</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP%E5%BB%BA%E2%BD%B4%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%BF%87%E7%A8%8B%E3%80%82"><span class="nav-number">1.</span> <span class="nav-text">TCP建⽴连接的过程。</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">褚岩</p><div class="site-description" itemprop="description">路漫漫其修远兮，吾将上下而求索</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">27</span> <span class="site-state-item-name">分类</span></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">43</span> <span class="site-state-item-name">标签</span></div></nav></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://javainterviewguide.github.io/publishes/fca1d6209800.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="褚岩"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Java后端面试指南"><meta itemprop="description" content="路漫漫其修远兮，吾将上下而求索"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="计算机网络 | Java后端面试指南"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">计算机网络</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2023-12-20 16:11:54" itemprop="dateCreated datePublished" datetime="2023-12-20T16:11:54+08:00">2023-12-20</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-12-22 16:55:15" itemprop="dateModified" datetime="2023-12-22T16:55:15+08:00">2023-12-22</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span></span></div></div></header><div class="post-body" itemprop="articleBody"><h1 id="TCP建⽴连接的过程。"><a href="#TCP建⽴连接的过程。" class="headerlink" title="TCP建⽴连接的过程。"></a>TCP建⽴连接的过程。</h1><p>三次握⼿：</p><ol><li>第⼀次握⼿(客户端发送syn包到服务器端)：客户端发送syn包到服务<br>器端，进⼊syn_send状态，等待服务器端的确认；</li><li>第⼆次握⼿(服务器返回syn+ack包给客户端)：服务器端收到客户端<br>的syn包，发送syn+ack包给客户端，进⼊syn_recv状态；</li><li>第三次握⼿(客服端返回ack包给服务端)：客户端收到服务器端的<br>syn+ack包，发送个ack包到服务器端，⾄此，客户端与服务器端进⼊<br>established状态；</li><li>握⼿过程中传送的包不包含任何数据，连接建⽴后才会开始传送数<br>据，理想状态下，TCP连接⼀旦建⽴，在通信双⽅的任何⼀⽅主动关闭<br>连接前，TCP连接都会⼀直保持下去。</li><li>TCP断开连接的过程。<br>四次ഀ⼿：</li><li>第⼀次ഀ⼿：主动关闭⽅发送fin包到被动关闭⽅，告诉被动关闭⽅我<br>不会再给你发送数据了；</li><li>第⼆次ഀ⼿：被动关闭⽅收到syn包，发送ack给对⽅，确认序号为收<br>到序号+1；</li><li>第三次ഀ⼿：被动关闭⽅也也发送fin包给主动关闭⽅，告诉对⽅我也<br>不会给你发送数据了；</li><li>第四次ഀ⼿：主动关闭⽅收到syn包，发送ack给对⽅，⾄此，完成四<br>次ഀ⼿；</li><li>浏览器发⽣302跳转背后的逻辑？<br>浏览器在原请求地址的响应的Location域找到要跳转的URI执⾏跳转。<br>浏览器输⼊URL后发⽣了什么</li><li>DNS域名解析；</li><li>建⽴TCP连接；</li><li>发送HTTP请求；</li><li>服务器处理请求；</li><li>返回响应结果；</li><li>关闭TCP连接；</li><li>浏览器解析HTML；</li><li>浏览器布局渲染；</li><li>HTTP协议的交互流程。 HTTP和HTTPS的差异， SSL的交互流程？<br>a. Http协议<br>1、建⽴TCP连接；<br>2、发送HTTP请求；<br>3、服务器处理请求；<br>4、返回响应结果；<br>5、关闭TCP连接；<br>b. http三次握⼿：<br>i. 第⼀次握⼿：客户端发送syn包(syn=j)到服务器，并进⼊<br>SYN_SEND状态，等待服务器确认；<br>ii. 第⼆次握⼿：服务器收到syn包，必须确认客户的<br>SYN（ack=j+1），同时⾃⼰也发送⼀个SYN包（syn=k），即<br>SYN+ACK包，此时服务器进⼊SYN_RECV状态；<br>iii. 第三次握⼿：客户端收到服务器的SYN＋ACK包，向服务器<br>发送确认包ACK(ack=k+1)，此包发送完毕，客户端和服务器进⼊<br>ESTABLISHED状态，完成三次握⼿。<br>c. HTTPS协议<br>HTTPS协议就是基于SSL的HTTP协议<br>HTTPS使⽤与HTTP不同的端⼝（HTTPS80 ， HTTPSS443）<br>提供了身份验证与加密通信⽅法，被⼴泛⽤于互联⽹上安全敏感的<br>通信。<br>1、客户端请求SSL连接，并将⾃⼰⽀持的加密规则发给⽹站。<br>2、服务器端将⾃⼰的身份信息以证书形式发回给客户端。证书⾥<br>⾯包含了⽹站地址，加密公钥，以及证书的颁发机构。<br>3、获得证书后，客户要做以下⼯作<br>验证证书合法性<br>如果证书受信任，客户端会⽣成⼀串随机数的密码，并⽤证<br>书提供的公钥进⾏加密。<br>将加密好的随机数发给服务器。<br>4、获得到客户端发的加密了的随机数之后，服务器⽤⾃⼰的私钥<br>进⾏解密，得到这个随机数，把这个随机数作为对称加密的密钥。<br>（利⽤⾮对称加密传输对称加密的密钥）<br>5、之后服务器与客户之间就可以⽤随机数对各⾃的信息进⾏加<br>密，解密。<br>注意的是：证书是⼀个公钥，这个公钥是进⾏加密⽤的。⽽私钥是<br>进⾏解密⽤的。公钥任何都知道，私钥只有⾃⼰知道。这是⾮对称<br>加密。<br>⽽对称加密就是钥匙只有⼀把，我们都知道。<br>之所以⽤到对称加密，是因为对称加密的速度更快。⽽⾮对称加密<br>的可靠性更⾼。<br>客户端请求–服务端发送证书（公钥）–客户端验证证书，并⽣成<br>随机数，通过公钥加密后发送给服务端–服务端⽤私钥解密出随机<br>数–对称加密传输数据。<br>d. HTTP与HTTPS的区别<br>1、HTTPS协议需要申请证书。<br>2、HTTP是明⽂传输；HTTPS使⽤的是具有安全性的SSL加密传输<br>协议<br>3、HTTP端⼝是80；HTTPS端⼝号是443<br>4、HTTP连接简单⽆状态；HTTPS由SSL+HTTP协议构件的可进⾏<br>加密传输、身份验证的⽹络协议。</li><li>Rest和Http什么关系？⼤家都说Rest很轻置，你对Rest⻛格如何理解?<br>a. Http是⼀种协议，Rest是⼀种软件架构⻛格。<br>b. URL定位资源，⽤HTTP动词（GET,POST,DELETE,DETC）描述操<br>作。<br>c. GET表示查询、POST表示新建、PUT表示更新、DELETE表示删除<br>等。<br>GET /api/v1/user 获取⽤户列表<br>GET /api/v1/user/1 获取ID为1的⽤户<br>POST /api/v1/user 新建⽤户<br>PUT /api/v1/user/1 更新ID为1的⽤户信息<br>DELETE /api/v1/user/1 删除ID为1的⽤户<br>1、概念：REST（英⽂：Representational State Transfer，简称<br>REST，表现层状态转化），指的是⼀组架构约束条件和原则。满⾜这<br>些约束条件和原则的应⽤程序或设计就是 RESTful。<br>2、⼀种软件架构⻛格，设计⻛格⽽不是标准，只是提供了⼀组设计原<br>则和约束条件。它主要⽤于客户端和服务器交互类的软件。基于这个⻛<br>格设计的软件可以更简洁，更有层次，更易于实现缓存等机制。<br>3、Restful架构：<br>（1）每⼀个URI代表⼀种资源；<br>（2）客户端和服务器之间，传递这种资源的某种表现层；<br>（3）客户端通过四个HTTP动词(GET⽤来获取资源，POST⽤来新<br>建资源（也可以⽤于更新资源），PUT⽤来更新资源，DELETE⽤来删<br>除资源。)，对服务器端资源进⾏操作，实现”表现层状态转化”。</li><li>TCP的滑动窗⼝协议有什么⽤？讲讲原理。<br>滑动窗⼝协议是传输层进⾏流控的⼀种措施，接收⽅通过通告发送⽅⾃<br>⼰的窗⼝⼤⼩，从⽽控制发送⽅的发送速度，从⽽达到防⽌发送⽅发送速度过快<br>⽽导致来不及接受。</li><li>HTTP协议都有哪些⽅法？</li><li>GET 请求获取由Request-URI所标识的资源。</li><li>POST 在Request-URI所标识的资源后附加新的数据。</li><li>HEAD 请求获取由Request-URI所标识的资源的响应消息报头。</li><li>OPTIONS 请求查询服务器的性能，或查询与资源相关的选项和需<br>求。</li><li>PUT 请求服务器存储⼀个资源，并⽤Request-URI作为其标识。</li><li>DELETE 请求服务器删除由Request-URI所标识的资源。</li><li>TRACE 请求服务器回送收到的请求信息，主要⽤语测试或诊断。</li><li>交换机与路由器的区别？<br>1、⼯作层次不同<br>最初的交换机⼯作在OSI模型中的数据链路层，⼯作原理简单<br>路由器⼯作在OSI模型中的⽹络层，得更多协议信息，做更智能<br>的转发决策<br>2、数据转发所依据的对象不同<br>交换机是利⽤物理地址（MAC地址），确定转发的⽬的地址。<br>（MAC固化硬件，⼀般不可更改）<br>路由器是利⽤IP地址，确定转发的⽬的地址。（IP通常为⽹关或<br>系统⾃动分配的）<br>3、是否可以分割⼴播域<br>传统的交换机可以分割冲突域，不能分割⼴播域，⽽路由器可以<br>分割⼴播域<br>由交换机连接的⽹段仍然属于同⼀⼴播域，⼴播数据报会在交换<br>机连接的所有⽹段上传播，某些情况导致通信拥೿和安全漏洞。连<br>接到路由器上的⽹段被分配成不同的⼴播域，所以，⼴播数据不穿<br>过路由器<br>虽然三层交换机可以分割⼴播域，但是⼦⼴播域之间不能通信，还是需<br>要路由器<br>4、路由器提供了防⽕墙的服务<br>路由器仅仅转发特定地址的数据包，不传送不⽀持路由协议的数<br>据包，不传送未知⽬标⽹络数据包，从⽽可以防⽌⼴播⻛暴<br>5、表<br>⼆层交换机上存在MAC表，三层交换机上存在路由表、MAC表、ARP<br>表，路由器上存在路由表和ARP表。<br>总之，交换机在具体的城域⽹中扮演着VLAN透传的⻆⾊，就是桥。路<br>由器的每⼀个端⼝都是⼀个独⽴的⼴播域和冲突域，⽽交换机是只有⼀个⼴播域<br>和端⼝数量的冲突域。</li><li>Socket⽹络通信、NIO流以及多线程处理技术，Netty、Mina？<br>1、socket⽹络通信：<br>NIO流以及多线程处理技术：<br>BIO:阻塞式，线程池初始时创建⼀定量线程，超过则等待；<br>NIO:⾮阻塞式，不同的线程⼲专业的事情，提⾼系统吞吐量；<br>NIO+异步处理：让少量的线程做⼤量的事情；<br>2、Mina：Apache Mina是⼀个能够帮助⽤户开发⾼性能和⾼伸缩性<br>⽹络应⽤程序的框架。它通过Java nio技术基于TCP/IP和UDP/IP协议提<br>供了抽象的、事件驱动的、异步的API。采⽤⾮阻塞⽅式的异步传输，<br>⽀持批量传输数据。mina框架简单⾼效，完成了底层的线程管理，内置<br>编码器能够满⾜⼤多数⽤户的需求，省去了消息编码和解码的⼯作。<br>3、Netty：本质是JBoss开发的⼀个jar包，⽬的是开发⾼性能、⾼可<br>靠性的⽹络服务和客户端服务；提供异步⾮阻塞的、事件驱动的⽹络应<br>⽤程序的NIO框架和⼯具；处理socket；通过Future-Listener机制，⽤<br>户可以⽅便的主动获取或者通过通知机制获得IO操作结果。</li><li>http协议（报⽂结构，断点续传，多线程下载，什么是⻓连接）<br>a. 概念：<br>i. HTTP协议是Hyper Text Transfer Protocol（超⽂本传输协议）的<br>缩写,是⽤于从万维⽹（WWW:World Wide Web ）服务器传输超⽂<br>本到本地浏览器的传送协议。<br>ii. HTTP是⼀个基于TCP/IP通信协议来传递数据（HTML ⽂件, 图⽚<br>⽂件, 查询结果等）。<br>iii. HTTP是⼀个属于应⽤层的⾯向对象的协议，由于其简捷、快速<br>的⽅式，适⽤于分布式超媒体信息系统。它于1990年提出，经过⼏<br>年的使⽤与发展，得到不断地完善和扩展。⽬前在WWW中使⽤的<br>是HTTP/1.0的第六版，HTTP/1.1的规范化⼯作正在进⾏之中，⽽且<br>HTTP-NG(Next Generation of HTTP)的建议已经提出。<br>iv. HTTP协议⼯作于客户端-服务端架构为上。浏览器作为HTTP客<br>户端通过URL向HTTP服务端即WEB服务器发送所有请求。Web服<br>务器根据接收到的请求后，向客户端发送响应信息。<br>b. 主要特点：<br>1、简单快速：客户向服务器请求服务时，只需传送请求⽅法和路<br>径。请求⽅法常⽤的有GET、HEAD、POST。每种⽅法规定了客户<br>与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器<br>的程序规模⼩，因⽽通信速度很快。<br>2、灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由<br>Content-Type加以标记。</li><li>⽆连接：⽆连接的含义是限制每次连接只处理⼀个请求。服务器<br>处理完客户的请求，并收到客户的应答后，即断开连接。采⽤这种<br>⽅式可以节省传输时间。</li><li>⽆状态：HTTP协议是⽆状态协议。⽆状态是指协议对于事务处<br>理没有记忆能⼒。缺少状态意味着如果后续处理需要前⾯的信息，<br>则它必须重传，这样可能导致每次连接传送的数据量增⼤。另⼀⽅<br>⾯，在服务器不需要先前信息时它的应答就较快。<br>5、⽀持B/S及C/S模式。</li><li>get与post区别</li><li>表单的method如果为get,那么所有的参数信息都会显示在浏览器的地<br>址栏，当我们使⽤浏览器地址栏输⼊⽹址的⽅式来发送请求时,那么该请<br>求⼀定是get⽅式</li><li>对于get⽅式,底层是将所有参数附加在请求资源的后⾯⼀起传递的，<br>对于post⽅式,底层是将所有参数附加在请求参数的最后⼀⾏的下⼀⾏的<br>下⼀⾏<br>Get请求的数据是被附在url之后（HTTP协议头中），POST请求数据<br>则放置在HTTP包的包体head中；</li><li>对于get,post⽅式,servlet不同处理：doGet()，doPost();<br>4、浏览器处理：重复访问使⽤GET⽅法请求的⻚⾯，浏览器会使⽤缓<br>存处理后续请求。使⽤POST⽅法的form提交时，浏览器基于POST将产<br>⽣永久改变的假设，将让⽤户进⾏提交确认。</li><li>Nginx性能调优：<br>1、增加同时打开⽂件数open files数量；<br>2、处理⼤量静态⽂件的磁盘I/O时(此时worker进程是单线程的)，增加CPU<br>核⼼数Worker Processes数量，提⾼计算能⼒；<br>3、如果⽹站流量很⾼，则可以提升worker进程连接数Worker<br>Connections(默认1024)；<br>4、控制keep alive在10s-20s之间，减少连接的时间开销；<br>5、合理设置open file cache时间提⾼处理效率；<br>6、提⾼⽹路带宽；<br>7、开启压缩传输数据gzip，设置压缩级别gzip_comp_level为1-2，再⾼<br>效果不明显并且浪费CPU了；<br>8、扩展机器数量。</li><li>rpc和http的区别，使⽤场景：<br>a. 区别：<br>传输协议<br>RPC，可以基于TCP协议，也可以基于HTTP协议<br>HTTP，基于HTTP协议<br>传输效率<br>RPC，使⽤⾃定义的TCP协议，可以让请求报⽂体积更⼩，<br>或者使⽤HTTP2协议，也可以很好的减少报⽂的体积，提⾼传<br>输效率<br>HTTP，如果是基于HTTP1.1的协议，请求中会包含很多⽆⽤<br>的内容，如果是基于HTTP2.0，那么简单的封装以下是可以作<br>为⼀个RPC来使⽤的，这时标准RPC框架更多的是服务治理<br>性能消耗，主要在于序列化和反序列化的耗时<br>RPC，可以基于thrift实现⾼效的⼆进制传输<br>HTTP，⼤部分是通过json来实现的，字节⼤⼩和序列化耗<br>时都⽐thrift要更消耗性能<br>负载均衡<br>RPC，基本都⾃带了负载均衡策略<br>HTTP，需要配置Nginx，HAProxy来实现<br>服务治理（下游服务新增，重启，下线时如何不影响上游调⽤<br>者）<br>RPC，能做到⾃动通知，不影响上游<br>HTTP，需要事先通知，修改Nginx/HAProxy配置<br>a. 总结：RPC主要⽤于公司内部的服务调⽤，性能消耗低，传输效率<br>⾼，服务治理⽅便。HTTP主要⽤于对外的异构环境，浏览器接⼝调<br>⽤，APP接⼝调⽤，第三⽅接⼝调⽤等。</li></ol><p>Java面试高级篇—说说TCP,UDP和socket,Http之间联系和区别<br>Java面经 2018-08-06 10:23:04<br>TCP协议<br>TCP（Transmission Control Protocol 传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议，由IETF的RFC 793定义。在简化的计算机网络OSI模型中，它完成第四层传输层所指定的功能，用户数据报协议（UDP）是同一层内另一个重要的传输协议。<br>在因特网协议族（Internet protocol suite）中，TCP层是位于IP层之上，应用层之下的中间层。不同主机的应用层之间经常需要可靠的、像管道一样的连接，但是IP层不提供这样的流机制，而是提供不可靠的包交换。</p><p>TCP的优点<br>可靠，稳定<br>TCP的可靠体现在TCP在传递数据之前，会有三次握手来建立连接，而且在数据传递时，有确认、窗口、重传、拥塞控制机制，在数据传完后，还会断开连接用来节约系统资源。<br>TCP的缺点<br>慢，效率低，占用系统资源高，易被攻击<br>TCP在传递数据之前，要先建连接，这会消耗时间，而且在数据传递时，确认机制、重传机制、拥塞控制机制等都会消耗大量的时间，而且要在每台设备上维护所有的传输连接，事实上，每个连接都会占用系统的CPU、内存等硬件资源。<br>由于TCP存在确认机制和三次握手机制，这些是导致TCP容易被人利用，实现DOS、DDOS、CC等攻击。<br>TCP应用场景<br>当对网络通讯质量有要求的时候，比如：整个数据要准确无误的传递给对方，这往往用于一些要求可靠的应用，比如HTTP、HTTPS、FTP等传输文件的协议，POP、SMTP等邮件传输的协议。<br>在日常生活中，常见使用TCP协议的应用比如：浏览器使用HTTP，Outlook使用POP、SMTP，QQ文件传输等。<br>UDP协议<br>UDP 是User Datagram Protocol的简称， 中文名是用户数据报协议，是OSI（Open System Interconnection，开放式系统互联） 参考模型中一种无连接的传输层协议，提供面向事务的简单不可靠信息传送服务，IETF RFC 768是UDP的正式规范。UDP在IP报文的协议号是17。<br>UDP的优点<br>快，比TCP稍安全<br>UDP没有TCP的握手、确认、窗口、重传、拥塞控制等机制，UDP是一个无状态的传输协议，所以它在传递数据时非常快。没有TCP的这些机制，UDP较TCP被攻击者利用的漏洞就要少一些。但UDP也是无法避免攻击的，比如：UDP Flood攻击……<br>UDP的缺点<br>不可靠，不稳定<br>因为UDP没有TCP那些可靠的机制，在数据传递时，如果网络质量不好，就会很容易丢包。<br>UDP应用场景<br>当对网络通讯质量要求不高的时候，要求网络通讯速度能尽量的快，这时就可以使用UDP。在日常生活中，常见使用UDP协议的应用比如：QQ语音、QQ视频、TFTP等。<br>TCP和UDP使用IP协议从一个网络传送数据包到另一个网络。把IP想像成一种高速公路，它允许其它协议在上面行驶并找到到其它电脑的出口。TCP和UDP是高速公路上的“卡车”，它们携带的货物就是像HTTP，文件传输协议FTP这样的协议等。</p><p>TCP/IP是个协议组，可分为三个层次：网络层、传输层和应用层。<br>在网络层有：IP协议、ICMP协议、ARP协议、RARP协议和BOOTP协议。<br>在传输层中有：TCP协议与UDP协议。<br>在应用层有：FTP、HTTP、TELNET、SMTP、DNS等协议。<br>因此，HTTP本身就是一个协议，是从Web服务器传输超文本到本地浏览器的传送协议。<br>TCP和UDP是FTP，HTTP和SMTP之类使用的传输层协议。虽然TCP和UDP都是用来传输其他协议的，它们却有一个显著的不同：TCP提供有保证的数据传输，而UDP不提供。这意味着TCP有一个特殊的机制来确保数据安全的不出错的从一个端点传到另一个端点，而UDP不提供任何这样的保证。</p><p>HTTP协议<br>HTTP（超文本传输协议）是利用TCP在两台电脑(通常是Web服务器和客户端)之间传输信息的协议。客户端使用Web浏览器发起HTTP请求给Web服务器，Web服务器发送被请求的信息给客户端。</p><p>HTTP是短连接：客户端发送请求都需要服务器端回送响应.请求结束后，主动释放链接，因此为短连接。通常的做法是，不需要任何数据，也要保持每隔一段时间向服务器发送”保持连接”的请求。这样可以保证客户端在服务器端是”上线”状态。<br>HTTP连接使用的是”请求-响应”方式，不仅在请求时建立连接，而且客户端向服务器端请求后，服务器才返回数据。<br>Socket协议<br>网络上的两个程序通过一个双向的通信连接实现数据的交换，这个连接的一端称为一个socket。</p><p>建立网络通信连接至少要一对端口号（socket）。socket本质是编程接口（API），对TCP/IP的封装，TCP/IP也要提供可供程序员做网络开发所用的接口，这就是Socket编程接口；HTTP是轿车，提供了封装或者显示数据的具体形式；Socket是发动机，提供了网络通信的能力。</p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag"># 网络</a> <a href="/tags/tcp/" rel="tag"># tcp</a> <a href="/tags/http/" rel="tag"># http</a> <a href="/tags/https/" rel="tag"># https</a></div><div class="post-nav"><div class="post-nav-item"><a href="/publishes/fe062138c36d.html" rel="prev" title="Memcached"><i class="fa fa-angle-left"></i> Memcached</a></div><div class="post-nav-item"><a href="/publishes/f17ba5c005d6.html" rel="next" title="Linux">Linux <i class="fa fa-angle-right"></i></a></div></div></footer></article></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">褚岩</span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动</div></div></footer><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>