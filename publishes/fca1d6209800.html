<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#5391fe" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.0.0"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="/images/logo.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png"><link rel="mask-icon" href="/images/logo.png" color="#5391fe"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7CComic+Sans+MS:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.28/fancybox/fancybox.css" integrity="sha256-6cQIC71/iBIYXFK+0RHAvwmjwWzkWd+r7v/BX3/vZDc=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-material.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"javainterviewguide.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.19.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#5391fe","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8070896123414715" crossorigin="anonymous"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-TQWRP5B4WS"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TQWRP5B4WS")</script><meta name="description" content="TCP建⽴连接的过程。三次握⼿ 第⼀次握⼿(客户端发送syn包到服务器端)：客户端发送syn包到服务器端，进⼊syn_send状态，等待服务器端的确认； 第⼆次握⼿(服务器返回syn+ack包给客户端)：服务器端收到客户端的syn包，发送syn+ack包给客户端，进⼊syn_recv状态； 第三次握⼿(客服端返回ack包给服务端)：客户端收到服务器端的syn+ack包，发送个ack包到服务器端，⾄"><meta property="og:type" content="article"><meta property="og:title" content="计算机网络"><meta property="og:url" content="https://javainterviewguide.github.io/publishes/fca1d6209800.html"><meta property="og:site_name" content="Java面试指南"><meta property="og:description" content="TCP建⽴连接的过程。三次握⼿ 第⼀次握⼿(客户端发送syn包到服务器端)：客户端发送syn包到服务器端，进⼊syn_send状态，等待服务器端的确认； 第⼆次握⼿(服务器返回syn+ack包给客户端)：服务器端收到客户端的syn包，发送syn+ack包给客户端，进⼊syn_recv状态； 第三次握⼿(客服端返回ack包给服务端)：客户端收到服务器端的syn+ack包，发送个ack包到服务器端，⾄"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2023-12-20T08:11:54.000Z"><meta property="article:modified_time" content="2024-01-03T14:20:59.369Z"><meta property="article:author" content="褚岩"><meta property="article:tag" content="网络"><meta property="article:tag" content="tcp"><meta property="article:tag" content="http"><meta property="article:tag" content="https"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://javainterviewguide.github.io/publishes/fca1d6209800.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://javainterviewguide.github.io/publishes/fca1d6209800.html","path":"publishes/fca1d6209800.html","title":"计算机网络"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>计算机网络 | Java面试指南</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Java面试指南</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP%E5%BB%BA%E2%BD%B4%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%BF%87%E7%A8%8B%E3%80%82"><span class="nav-number">1.</span> <span class="nav-text">TCP建⽴连接的过程。</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E6%AC%A1%E6%8F%A1%E2%BC%BF"><span class="nav-number">1.0.0.1.</span> <span class="nav-text">三次握⼿</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%BF%87%E7%A8%8B%E3%80%82"><span class="nav-number">2.</span> <span class="nav-text">TCP断开连接的过程。</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9B%E6%AC%A1%E6%8F%A1%E2%BC%BF"><span class="nav-number">2.0.0.1.</span> <span class="nav-text">四次握⼿</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8F%91%E2%BD%A3302%E8%B7%B3%E8%BD%AC%E8%83%8C%E5%90%8E%E7%9A%84%E9%80%BB%E8%BE%91"><span class="nav-number">3.</span> <span class="nav-text">浏览器发⽣302跳转背后的逻辑</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E2%BC%8AURL%E5%90%8E%E5%8F%91%E2%BD%A3%E4%BA%86%E4%BB%80%E4%B9%88"><span class="nav-number">3.0.0.1.</span> <span class="nav-text">浏览器输⼊URL后发⽣了什么</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%BA%A4%E4%BA%92%E6%B5%81%E7%A8%8B%E3%80%82-HTTP%E5%92%8CHTTPS%E7%9A%84%E5%B7%AE%E5%BC%82%EF%BC%8C-SSL%E7%9A%84%E4%BA%A4%E4%BA%92%E6%B5%81%E7%A8%8B%EF%BC%9F"><span class="nav-number">4.</span> <span class="nav-text">HTTP协议的交互流程。 HTTP和HTTPS的差异， SSL的交互流程？</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Http%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.0.0.1.</span> <span class="nav-text">Http协议</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#http%E4%B8%89%E6%AC%A1%E6%8F%A1%E2%BC%BF%EF%BC%9A"><span class="nav-number">4.0.0.1.1.</span> <span class="nav-text">http三次握⼿：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HTTPS%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.0.0.2.</span> <span class="nav-text">HTTPS协议</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HTTP%E4%B8%8EHTTPS%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">4.0.0.3.</span> <span class="nav-text">HTTP与HTTPS的区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Rest%E5%92%8CHttp%E4%BB%80%E4%B9%88%E5%85%B3%E7%B3%BB%EF%BC%9F%E2%BC%A4%E5%AE%B6%E9%83%BD%E8%AF%B4Rest%E5%BE%88%E8%BD%BB%E7%BD%AE%EF%BC%8C%E4%BD%A0%E5%AF%B9Rest%E2%BB%9B%E6%A0%BC%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3"><span class="nav-number">4.0.0.4.</span> <span class="nav-text">Rest和Http什么关系？⼤家都说Rest很轻置，你对Rest⻛格如何理解?</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP%E7%9A%84%E6%BB%91%E5%8A%A8%E7%AA%97%E2%BC%9D%E5%8D%8F%E8%AE%AE%E6%9C%89%E4%BB%80%E4%B9%88%E2%BD%A4%EF%BC%9F%E8%AE%B2%E8%AE%B2%E5%8E%9F%E7%90%86%E3%80%82"><span class="nav-number">5.</span> <span class="nav-text">TCP的滑动窗⼝协议有什么⽤？讲讲原理。</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTTP%E5%8D%8F%E8%AE%AE%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B%E2%BD%85%E6%B3%95%EF%BC%9F"><span class="nav-number">6.</span> <span class="nav-text">HTTP协议都有哪些⽅法？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E4%B8%8E%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-number">7.</span> <span class="nav-text">交换机与路由器的区别？</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E2%BC%AF%E4%BD%9C%E5%B1%82%E6%AC%A1%E4%B8%8D%E5%90%8C"><span class="nav-number">7.0.0.1.</span> <span class="nav-text">⼯作层次不同</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91%E6%89%80%E4%BE%9D%E6%8D%AE%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8D%E5%90%8C"><span class="nav-number">7.0.0.2.</span> <span class="nav-text">数据转发所依据的对象不同</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E5%88%86%E5%89%B2%E2%BC%B4%E6%92%AD%E5%9F%9F"><span class="nav-number">7.0.0.3.</span> <span class="nav-text">是否可以分割⼴播域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E6%8F%90%E4%BE%9B%E4%BA%86%E9%98%B2%E2%BD%95%E5%A2%99%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="nav-number">7.0.0.4.</span> <span class="nav-text">路由器提供了防⽕墙的服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A8"><span class="nav-number">7.0.0.5.</span> <span class="nav-text">表</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Socket%E2%BD%B9%E7%BB%9C%E9%80%9A%E4%BF%A1%E3%80%81NIO%E6%B5%81%E4%BB%A5%E5%8F%8A%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%A4%84%E7%90%86%E6%8A%80%E6%9C%AF%EF%BC%8CNetty%E3%80%81Mina%EF%BC%9F"><span class="nav-number">8.</span> <span class="nav-text">Socket⽹络通信、NIO流以及多线程处理技术，Netty、Mina？</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#socket%E2%BD%B9%E7%BB%9C%E9%80%9A%E4%BF%A1"><span class="nav-number">8.0.0.1.</span> <span class="nav-text">socket⽹络通信</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Mina"><span class="nav-number">8.0.0.2.</span> <span class="nav-text">Mina</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Netty"><span class="nav-number">8.0.0.3.</span> <span class="nav-text">Netty</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#http%E5%8D%8F%E8%AE%AE%EF%BC%88%E6%8A%A5%E2%BD%82%E7%BB%93%E6%9E%84%EF%BC%8C%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0%EF%BC%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8B%E8%BD%BD%EF%BC%8C%E4%BB%80%E4%B9%88%E6%98%AF%E2%BB%93%E8%BF%9E%E6%8E%A5%EF%BC%89"><span class="nav-number">9.</span> <span class="nav-text">http协议（报⽂结构，断点续传，多线程下载，什么是⻓连接）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">9.0.0.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BB%E8%A6%81%E7%89%B9%E7%82%B9"><span class="nav-number">9.0.0.2.</span> <span class="nav-text">主要特点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#get%E4%B8%8Epost%E5%8C%BA%E5%88%AB"><span class="nav-number">10.</span> <span class="nav-text">get与post区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#rpc%E5%92%8Chttp%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%8C%E4%BD%BF%E2%BD%A4%E5%9C%BA%E6%99%AF"><span class="nav-number">11.</span> <span class="nav-text">rpc和http的区别，使⽤场景</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8C%BA%E5%88%AB"><span class="nav-number">11.0.0.1.</span> <span class="nav-text">区别</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="nav-number">11.0.0.1.1.</span> <span class="nav-text">传输协议</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BC%A0%E8%BE%93%E6%95%88%E7%8E%87"><span class="nav-number">11.0.0.1.2.</span> <span class="nav-text">传输效率</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="nav-number">11.0.0.1.3.</span> <span class="nav-text">负载均衡</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86%EF%BC%88%E4%B8%8B%E6%B8%B8%E6%9C%8D%E5%8A%A1%E6%96%B0%E5%A2%9E%EF%BC%8C%E9%87%8D%E5%90%AF%EF%BC%8C%E4%B8%8B%E7%BA%BF%E6%97%B6%E5%A6%82%E4%BD%95%E4%B8%8D%E5%BD%B1%E5%93%8D%E4%B8%8A%E6%B8%B8%E8%B0%83%E2%BD%A4%E8%80%85%EF%BC%89"><span class="nav-number">11.0.0.1.4.</span> <span class="nav-text">服务治理（下游服务新增，重启，下线时如何不影响上游调⽤者）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">11.0.0.1.5.</span> <span class="nav-text">总结</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%B4%E8%AF%B4TCP-UDP%E5%92%8Csocket-Http%E4%B9%8B%E9%97%B4%E8%81%94%E7%B3%BB%E5%92%8C%E5%8C%BA%E5%88%AB"><span class="nav-number">12.</span> <span class="nav-text">说说TCP,UDP和socket,Http之间联系和区别</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP%E5%8D%8F%E8%AE%AE"><span class="nav-number">12.0.0.1.</span> <span class="nav-text">TCP协议</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#TCP%E7%9A%84%E4%BC%98%E7%82%B9"><span class="nav-number">12.0.0.1.1.</span> <span class="nav-text">TCP的优点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TCP%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="nav-number">12.0.0.1.2.</span> <span class="nav-text">TCP的缺点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TCP%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">12.0.0.1.3.</span> <span class="nav-text">TCP应用场景</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UDP%E5%8D%8F%E8%AE%AE"><span class="nav-number">12.0.0.2.</span> <span class="nav-text">UDP协议</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#UDP%E7%9A%84%E4%BC%98%E7%82%B9"><span class="nav-number">12.0.0.2.1.</span> <span class="nav-text">UDP的优点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#UDP%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="nav-number">12.0.0.2.2.</span> <span class="nav-text">UDP的缺点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#UDP%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">12.0.0.2.3.</span> <span class="nav-text">UDP应用场景</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HTTP%E5%8D%8F%E8%AE%AE"><span class="nav-number">12.0.0.3.</span> <span class="nav-text">HTTP协议</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Socket%E5%8D%8F%E8%AE%AE"><span class="nav-number">12.0.0.4.</span> <span class="nav-text">Socket协议</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP%E4%B8%BA%E4%BD%95%E9%87%87%E7%94%A8%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E6%9D%A5%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%EF%BC%8C%E8%8B%A5%E9%87%87%E7%94%A8%E4%BA%8C%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%8F%AF%E4%BB%A5%E4%B9%88%EF%BC%8C%E8%AF%B7%E8%AF%B4%E6%98%8E%E7%90%86%E7%94%B1"><span class="nav-number">13.</span> <span class="nav-text">TCP为何采用三次握手来建立连接，若采用二次握手可以么，请说明理由</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTTP%E5%8D%8F%E8%AE%AE%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%85%B6%E7%89%B9%E7%82%B9"><span class="nav-number">14.</span> <span class="nav-text">HTTP协议工作原理及其特点</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BB%8B%E7%BB%8DOSI%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%92%8CTCP-IP%E6%A8%A1%E5%9E%8B"><span class="nav-number">15.</span> <span class="nav-text">介绍OSI七层模型和TCP&#x2F;IP模型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP%E5%8D%8F%E8%AE%AE%E5%92%8CUDP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%AF%94%E8%BE%83"><span class="nav-number">16.</span> <span class="nav-text">TCP协议和UDP协议的比较</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IP-TCP-UDP-HTTP-TCP-IP-Socket"><span class="nav-number">17.</span> <span class="nav-text">IP,TCP,UDP,HTTP,TCP&#x2F;IP,Socket</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%88%E6%9D%A5%E4%B8%80%E4%B8%AA%E8%AE%B2-TCP%E3%80%81UDP-%E5%92%8C-HTTP-%E5%85%B3%E7%B3%BB%E7%9A%84"><span class="nav-number">18.</span> <span class="nav-text">先来一个讲 TCP、UDP 和 HTTP 关系的</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span class="nav-number">19.</span> <span class="nav-text">为什么要四次挥手</span></a></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">褚岩</p><div class="site-description" itemprop="description">路漫漫其修远兮，吾将上下而求索</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">43</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">33</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">64</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="mailto:bluespacecapt@gmail.com" title="E-Mail → mailto:bluespacecapt@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://javainterviewguide.github.io/publishes/fca1d6209800.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="褚岩"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Java面试指南"><meta itemprop="description" content="路漫漫其修远兮，吾将上下而求索"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="计算机网络 | Java面试指南"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">计算机网络</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2023-12-20 16:11:54" itemprop="dateCreated datePublished" datetime="2023-12-20T16:11:54+08:00">2023-12-20</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2024-01-03 22:20:59" itemprop="dateModified" datetime="2024-01-03T22:20:59+08:00">2024-01-03</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>11k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>10 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><h1 id="TCP建⽴连接的过程。"><a href="#TCP建⽴连接的过程。" class="headerlink" title="TCP建⽴连接的过程。"></a>TCP建⽴连接的过程。</h1><h4 id="三次握⼿"><a href="#三次握⼿" class="headerlink" title="三次握⼿"></a>三次握⼿</h4><ul><li>第⼀次握⼿(客户端发送syn包到服务器端)：客户端发送syn包到服务器端，进⼊syn_send状态，等待服务器端的确认；</li><li>第⼆次握⼿(服务器返回syn+ack包给客户端)：服务器端收到客户端的syn包，发送syn+ack包给客户端，进⼊syn_recv状态；</li><li>第三次握⼿(客服端返回ack包给服务端)：客户端收到服务器端的syn+ack包，发送个ack包到服务器端，⾄此，客户端与服务器端进⼊established状态；</li><li>握⼿过程中传送的包不包含任何数据，连接建⽴后才会开始传送数据，理想状态下，TCP连接⼀旦建⽴，在通信双⽅的任何⼀⽅主动关闭连接前，TCP连接都会⼀直保持下去。</li></ul><h1 id="TCP断开连接的过程。"><a href="#TCP断开连接的过程。" class="headerlink" title="TCP断开连接的过程。"></a>TCP断开连接的过程。</h1><h4 id="四次握⼿"><a href="#四次握⼿" class="headerlink" title="四次握⼿"></a>四次握⼿</h4><ul><li>第⼀次握⼿：主动关闭⽅发送fin包到被动关闭⽅，告诉被动关闭⽅我不会再给你发送数据了；</li><li>第⼆次握⼿：被动关闭⽅收到syn包，发送ack给对⽅，确认序号为收到序号+1；</li><li>第三次握⼿：被动关闭⽅也也发送fin包给主动关闭⽅，告诉对⽅我也不会给你发送数据了；</li><li>第四次握⼿：主动关闭⽅收到syn包，发送ack给对⽅，⾄此，完成四次握⼿；</li></ul><h1 id="浏览器发⽣302跳转背后的逻辑"><a href="#浏览器发⽣302跳转背后的逻辑" class="headerlink" title="浏览器发⽣302跳转背后的逻辑"></a>浏览器发⽣302跳转背后的逻辑</h1><ul><li>浏览器在原请求地址的响应的Location域找到要跳转的URI执⾏跳转。</li></ul><h4 id="浏览器输⼊URL后发⽣了什么"><a href="#浏览器输⼊URL后发⽣了什么" class="headerlink" title="浏览器输⼊URL后发⽣了什么"></a>浏览器输⼊URL后发⽣了什么</h4><ul><li>DNS域名解析；</li><li>建⽴TCP连接；</li><li>发送HTTP请求；</li><li>服务器处理请求；</li><li>返回响应结果；</li><li>关闭TCP连接；</li><li>浏览器解析HTML；</li><li>浏览器布局渲染；</li></ul><h1 id="HTTP协议的交互流程。-HTTP和HTTPS的差异，-SSL的交互流程？"><a href="#HTTP协议的交互流程。-HTTP和HTTPS的差异，-SSL的交互流程？" class="headerlink" title="HTTP协议的交互流程。 HTTP和HTTPS的差异， SSL的交互流程？"></a>HTTP协议的交互流程。 HTTP和HTTPS的差异， SSL的交互流程？</h1><h4 id="Http协议"><a href="#Http协议" class="headerlink" title="Http协议"></a>Http协议</h4><ul><li>建⽴TCP连接；</li><li>发送HTTP请求；</li><li>服务器处理请求；</li><li>返回响应结果；</li><li>关闭TCP连接；</li></ul><h5 id="http三次握⼿："><a href="#http三次握⼿：" class="headerlink" title="http三次握⼿："></a>http三次握⼿：</h5><ul><li>第⼀次握⼿：客户端发送syn包(syn&#x3D;j)到服务器，并进⼊SYN_SEND状态，等待服务器确认；</li><li>第⼆次握⼿：服务器收到syn包，必须确认客户的SYN（ack&#x3D;j+1），同时⾃⼰也发送⼀个SYN包（syn&#x3D;k），即<br>SYN+ACK包，此时服务器进⼊SYN_RECV状态；</li><li>第三次握⼿：客户端收到服务器的SYN＋ACK包，向服务器发送确认包ACK(ack&#x3D;k+1)，此包发送完毕，客户端和服务器进⼊ESTABLISHED状态，完成三次握⼿。</li></ul><h4 id="HTTPS协议"><a href="#HTTPS协议" class="headerlink" title="HTTPS协议"></a>HTTPS协议</h4><ul><li>TTPS协议就是基于SSL的HTTP协议</li><li>HTTPS使⽤与HTTP不同的端⼝（HTTPS80 ， HTTPSS443）</li><li>提供了身份验证与加密通信⽅法，被⼴泛⽤于互联⽹上安全敏感的通信。</li><li>客户端请求SSL连接，并将⾃⼰⽀持的加密规则发给⽹站。</li><li>服务器端将⾃⼰的身份信息以证书形式发回给客户端。证书⾥⾯包含了⽹站地址，加密公钥，以及证书的颁发机构。</li><li>获得证书后，客户要做以下⼯作<ul><li>验证证书合法性</li><li>如果证书受信任，客户端会⽣成⼀串随机数的密码，并⽤证书提供的公钥进⾏加密。</li><li>将加密好的随机数发给服务器。</li><li>获得到客户端发的加密了的随机数之后，服务器⽤⾃⼰的私钥进⾏解密，得到这个随机数，把这个随机数作为对称加密的密钥。（利⽤⾮对称加密传输对称加密的密钥）</li><li>之后服务器与客户之间就可以⽤随机数对各⾃的信息进⾏加密，解密。</li></ul></li><li>注意的是：证书是⼀个公钥，这个公钥是进⾏加密⽤的。⽽私钥是进⾏解密⽤的。公钥任何都知道，私钥只有⾃⼰知道。这是⾮对称加密。⽽对称加密就是钥匙只有⼀把，我们都知道。</li><li>之所以⽤到对称加密，是因为对称加密的速度更快。⽽⾮对称加密的可靠性更⾼。</li><li>客户端请求–服务端发送证书（公钥）–客户端验证证书，并⽣成随机数，通过公钥加密后发送给服务端–服务端⽤私钥解密出随机数–对称加密传输数据。</li></ul><h4 id="HTTP与HTTPS的区别"><a href="#HTTP与HTTPS的区别" class="headerlink" title="HTTP与HTTPS的区别"></a>HTTP与HTTPS的区别</h4><ul><li>HTTPS协议需要申请证书。</li><li>HTTP是明⽂传输；HTTPS使⽤的是具有安全性的SSL加密传输协议</li><li>HTTP端⼝是80；HTTPS端⼝号是443</li><li>HTTP连接简单⽆状态；HTTPS由SSL+HTTP协议构件的可进⾏加密传输、身份验证的⽹络协议。</li></ul><h4 id="Rest和Http什么关系？⼤家都说Rest很轻置，你对Rest⻛格如何理解"><a href="#Rest和Http什么关系？⼤家都说Rest很轻置，你对Rest⻛格如何理解" class="headerlink" title="Rest和Http什么关系？⼤家都说Rest很轻置，你对Rest⻛格如何理解?"></a>Rest和Http什么关系？⼤家都说Rest很轻置，你对Rest⻛格如何理解?</h4><ul><li>Http是⼀种协议，Rest是⼀种软件架构⻛格。</li><li>URL定位资源，⽤HTTP动词（GET,POST,DELETE,DETC）描述操作。</li><li>GET表示查询、POST表示新建、PUT表示更新、DELETE表示删除等。<ul><li>GET &#x2F;api&#x2F;v1&#x2F;user 获取⽤户列表</li><li>GET &#x2F;api&#x2F;v1&#x2F;user&#x2F;1 获取ID为1的⽤户</li><li>POST &#x2F;api&#x2F;v1&#x2F;user 新建⽤户</li><li>PUT &#x2F;api&#x2F;v1&#x2F;user&#x2F;1 更新ID为1的⽤户信息</li><li>DELETE &#x2F;api&#x2F;v1&#x2F;user&#x2F;1 删除ID为1的⽤户</li></ul></li><li>概念：REST（英⽂：Representational State Transfer，简称REST，表现层状态转化），指的是⼀组架构约束条件和原则。满⾜这些约束条件和原则的应⽤程序或设计就是 RESTful。</li><li>⼀种软件架构⻛格，设计⻛格⽽不是标准，只是提供了⼀组设计原则和约束条件。它主要⽤于客户端和服务器交互类的软件。基于这个⻛格设计的软件可以更简洁，更有层次，更易于实现缓存等机制。</li><li>Restful架构：<ul><li>每⼀个URI代表⼀种资源；</li><li>客户端和服务器之间，传递这种资源的某种表现层；</li><li>客户端通过四个HTTP动词(GET⽤来获取资源，POST⽤来新建资源（也可以⽤于更新资源），PUT⽤来更新资源，DELETE⽤来删除资源。)，对服务器端资源进⾏操作，实现”表现层状态转化”。</li></ul></li></ul><h1 id="TCP的滑动窗⼝协议有什么⽤？讲讲原理。"><a href="#TCP的滑动窗⼝协议有什么⽤？讲讲原理。" class="headerlink" title="TCP的滑动窗⼝协议有什么⽤？讲讲原理。"></a>TCP的滑动窗⼝协议有什么⽤？讲讲原理。</h1><ul><li>滑动窗⼝协议是传输层进⾏流控的⼀种措施，接收⽅通过通告发送⽅⾃⼰的窗⼝⼤⼩，从⽽控制发送⽅的发送速度，从⽽达到防⽌发送⽅发送速度过快⽽导致来不及接受。</li></ul><h1 id="HTTP协议都有哪些⽅法？"><a href="#HTTP协议都有哪些⽅法？" class="headerlink" title="HTTP协议都有哪些⽅法？"></a>HTTP协议都有哪些⽅法？</h1><ul><li>GET 请求获取由Request-URI所标识的资源。</li><li>POST 在Request-URI所标识的资源后附加新的数据。</li><li>HEAD 请求获取由Request-URI所标识的资源的响应消息报头。</li><li>OPTIONS 请求查询服务器的性能，或查询与资源相关的选项和需求。</li><li>PUT 请求服务器存储⼀个资源，并⽤Request-URI作为其标识。</li><li>DELETE 请求服务器删除由Request-URI所标识的资源。</li><li>TRACE 请求服务器回送收到的请求信息，主要⽤语测试或诊断。</li></ul><h1 id="交换机与路由器的区别？"><a href="#交换机与路由器的区别？" class="headerlink" title="交换机与路由器的区别？"></a>交换机与路由器的区别？</h1><h4 id="⼯作层次不同"><a href="#⼯作层次不同" class="headerlink" title="⼯作层次不同"></a>⼯作层次不同</h4><ul><li>最初的交换机⼯作在OSI模型中的数据链路层，⼯作原理简单</li><li>路由器⼯作在OSI模型中的⽹络层，得更多协议信息，做更智能的转发决策</li></ul><h4 id="数据转发所依据的对象不同"><a href="#数据转发所依据的对象不同" class="headerlink" title="数据转发所依据的对象不同"></a>数据转发所依据的对象不同</h4><ul><li>交换机是利⽤物理地址（MAC地址），确定转发的⽬的地址。（MAC固化硬件，⼀般不可更改）</li><li>路由器是利⽤IP地址，确定转发的⽬的地址。（IP通常为⽹关或p系统⾃动分配的）</li></ul><h4 id="是否可以分割⼴播域"><a href="#是否可以分割⼴播域" class="headerlink" title="是否可以分割⼴播域"></a>是否可以分割⼴播域</h4><ul><li>传统的交换机可以分割冲突域，不能分割⼴播域，⽽路由器可以分割⼴播域</li><li>由交换机连接的⽹段仍然属于同⼀⼴播域，⼴播数据报会在交换机连接的所有⽹段上传播，某些情况导致通信拥堵和安全漏洞。</li><li>连接到路由器上的⽹段被分配成不同的⼴播域，所以，⼴播数据不穿过路由器</li><li>虽然三层交换机可以分割⼴播域，但是⼦⼴播域之间不能通信，还是需要路由器</li></ul><h4 id="路由器提供了防⽕墙的服务"><a href="#路由器提供了防⽕墙的服务" class="headerlink" title="路由器提供了防⽕墙的服务"></a>路由器提供了防⽕墙的服务</h4><ul><li>路由器仅仅转发特定地址的数据包，不传送不⽀持路由协议的数据包，不传送未知⽬标⽹络数据包，从⽽可以防⽌⼴播⻛暴</li></ul><h4 id="表"><a href="#表" class="headerlink" title="表"></a>表</h4><ul><li>⼆层交换机上存在MAC表，三层交换机上存在路由表、MAC表、ARP表，路由器上存在路由表和ARP表。</li><li>总之，交换机在具体的城域⽹中扮演着VLAN透传的⻆⾊，就是桥。</li><li>路由器的每⼀个端⼝都是⼀个独⽴的⼴播域和冲突域，⽽交换机是只有⼀个⼴播域和端⼝数量的冲突域。</li></ul><h1 id="Socket⽹络通信、NIO流以及多线程处理技术，Netty、Mina？"><a href="#Socket⽹络通信、NIO流以及多线程处理技术，Netty、Mina？" class="headerlink" title="Socket⽹络通信、NIO流以及多线程处理技术，Netty、Mina？"></a>Socket⽹络通信、NIO流以及多线程处理技术，Netty、Mina？</h1><h4 id="socket⽹络通信"><a href="#socket⽹络通信" class="headerlink" title="socket⽹络通信"></a>socket⽹络通信</h4><ul><li>NIO流以及多线程处理技术：</li><li>BIO:阻塞式，线程池初始时创建⼀定量线程，超过则等待；</li><li>NIO:⾮阻塞式，不同的线程⼲专业的事情，提⾼系统吞吐量；</li><li>NIO+异步处理：让少量的线程做⼤量的事情；</li></ul><h4 id="Mina"><a href="#Mina" class="headerlink" title="Mina"></a>Mina</h4><ul><li>Apache Mina是⼀个能够帮助⽤户开发⾼性能和⾼伸缩性⽹络应⽤程序的框架。</li><li>它通过Java nio技术基于TCP&#x2F;IP和UDP&#x2F;IP协议提供了抽象的、事件驱动的、异步的API</li><li>采⽤⾮阻塞⽅式的异步传输，⽀持批量传输数据</li><li>mina框架简单⾼效，完成了底层的线程管理，内置编码器能够满⾜⼤多数⽤户的需求，省去了消息编码和解码的⼯作。</li></ul><h4 id="Netty"><a href="#Netty" class="headerlink" title="Netty"></a>Netty</h4><ul><li>本质是JBoss开发的⼀个jar包，⽬的是开发⾼性能、⾼可靠性的⽹络服务和客户端服务</li><li>提供异步⾮阻塞的、事件驱动的⽹络应⽤程序的NIO框架和⼯具</li><li>处理socket</li><li>通过Future-Listener机制，⽤户可以⽅便的主动获取或者通过通知机制获得IO操作结果。</li></ul><h1 id="http协议（报⽂结构，断点续传，多线程下载，什么是⻓连接）"><a href="#http协议（报⽂结构，断点续传，多线程下载，什么是⻓连接）" class="headerlink" title="http协议（报⽂结构，断点续传，多线程下载，什么是⻓连接）"></a>http协议（报⽂结构，断点续传，多线程下载，什么是⻓连接）</h1><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><ul><li>HTTP协议是Hyper Text Transfer Protocol（超⽂本传输协议）的缩写,是⽤于从万维⽹（WWW:World Wide Web ）服务器传输超⽂本到本地浏览器的传送协议。</li><li>HTTP是⼀个基于TCP&#x2F;IP通信协议来传递数据（HTML ⽂件, 图⽚⽂件, 查询结果等）。</li><li>HTTP是⼀个属于应⽤层的⾯向对象的协议，由于其简捷、快速的⽅式，适⽤于分布式超媒体信息系统。它于1990年提出，经过⼏年的使⽤与发展，得到不断地完善和扩展。⽬前在WWW中使⽤的是HTTP&#x2F;1.0的第六版，HTTP&#x2F;1.1的规范化⼯作正在进⾏之中，⽽且HTTP-NG(Next Generation of HTTP)的建议已经提出。</li><li>HTTP协议⼯作于客户端-服务端架构为上。</li><li>浏览器作为HTTP客户端通过URL向HTTP服务端即WEB服务器发送所有请求</li><li>Web服务器根据接收到的请求后，向客户端发送响应信息。</li></ul><h4 id="主要特点"><a href="#主要特点" class="headerlink" title="主要特点"></a>主要特点</h4><ul><li>简单快速：客户向服务器请求服务时，只需传送请求⽅法和路径。请求⽅法常⽤的有GET、HEAD、POST。每种⽅法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模⼩，因⽽通信速度很快。</li><li>灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。</li><li>⽆连接：⽆连接的含义是限制每次连接只处理⼀个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采⽤这种⽅式可以节省传输时间。</li><li>⽆状态：HTTP协议是⽆状态协议。⽆状态是指协议对于事务处理没有记忆能⼒。缺少状态意味着如果后续处理需要前⾯的信息，则它必须重传，这样可能导致每次连接传送的数据量增⼤。另⼀⽅⾯，在服务器不需要先前信息时它的应答就较快。</li><li>⽀持B&#x2F;S及C&#x2F;S模式。</li></ul><h1 id="get与post区别"><a href="#get与post区别" class="headerlink" title="get与post区别"></a>get与post区别</h1><ul><li>表单的method如果为get,那么所有的参数信息都会显示在浏览器的地址栏，当我们使⽤浏览器地址栏输⼊⽹址的⽅式来发送请求时,那么该请求⼀定是get⽅式</li><li>对于get⽅式,底层是将所有参数附加在请求资源的后⾯⼀起传递的，对于post⽅式,底层是将所有参数附加在请求参数的最后⼀⾏的下⼀⾏的下⼀⾏，Get请求的数据是被附在url之后（HTTP协议头中），POST请求数据则放置在HTTP包的包体head中；</li><li>对于get,post⽅式,servlet不同处理：doGet()，doPost();</li><li>浏览器处理：重复访问使⽤GET⽅法请求的⻚⾯，浏览器会使⽤缓存处理后续请求。使⽤POST⽅法的form提交时，浏览器基于POST将产⽣永久改变的假设，将让⽤户进⾏提交确认。</li></ul><h1 id="rpc和http的区别，使⽤场景"><a href="#rpc和http的区别，使⽤场景" class="headerlink" title="rpc和http的区别，使⽤场景"></a>rpc和http的区别，使⽤场景</h1><h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><h5 id="传输协议"><a href="#传输协议" class="headerlink" title="传输协议"></a>传输协议</h5><ul><li>RPC，可以基于TCP协议，也可以基于HTTP协议</li><li>HTTP，基于HTTP协议</li></ul><h5 id="传输效率"><a href="#传输效率" class="headerlink" title="传输效率"></a>传输效率</h5><ul><li>RPC，使⽤⾃定义的TCP协议，可以让请求报⽂体积更⼩，或者使⽤HTTP2协议，也可以很好的减少报⽂的体积，提⾼传输效率</li><li>HTTP，如果是基于HTTP1.1的协议，请求中会包含很多⽆⽤的内容，如果是基于HTTP2.0，那么简单的封装以下是可以作为⼀个RPC来使⽤的，这时标准RPC框架更多的是服务治理性能消耗，主要在于序列化和反序列化的耗时<br>RPC，可以基于thrift实现⾼效的⼆进制传输</li><li>HTTP，⼤部分是通过json来实现的，字节⼤⼩和序列化耗时都⽐thrift要更消耗性能</li></ul><h5 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h5><ul><li>RPC，基本都⾃带了负载均衡策略</li><li>HTTP，需要配置Nginx，HAProxy来实现</li></ul><h5 id="服务治理（下游服务新增，重启，下线时如何不影响上游调⽤者）"><a href="#服务治理（下游服务新增，重启，下线时如何不影响上游调⽤者）" class="headerlink" title="服务治理（下游服务新增，重启，下线时如何不影响上游调⽤者）"></a>服务治理（下游服务新增，重启，下线时如何不影响上游调⽤者）</h5><ul><li>RPC，能做到⾃动通知，不影响上游</li><li>HTTP，需要事先通知，修改Nginx&#x2F;HAProxy配置</li></ul><h5 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h5><ul><li>RPC主要⽤于公司内部的服务调⽤，性能消耗低，传输效率⾼，服务治理⽅便。</li><li>HTTP主要⽤于对外的异构环境，浏览器接⼝调⽤，APP接⼝调⽤，第三⽅接⼝调⽤等。</li></ul><h1 id="说说TCP-UDP和socket-Http之间联系和区别"><a href="#说说TCP-UDP和socket-Http之间联系和区别" class="headerlink" title="说说TCP,UDP和socket,Http之间联系和区别"></a>说说TCP,UDP和socket,Http之间联系和区别</h1><h4 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h4><ul><li>TCP（Transmission Control Protocol 传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议，由IETF的RFC 793定义。</li><li>在简化的计算机网络OSI模型中，它完成第四层传输层所指定的功能，用户数据报协议（UDP）是同一层内另一个重要的传输协议。</li><li>在因特网协议族（Internet protocol suite）中，TCP层是位于IP层之上，应用层之下的中间层。</li><li>不同主机的应用层之间经常需要可靠的、像管道一样的连接，但是IP层不提供这样的流机制，而是提供不可靠的包交换。</li></ul><h5 id="TCP的优点"><a href="#TCP的优点" class="headerlink" title="TCP的优点"></a>TCP的优点</h5><ul><li>可靠，稳定</li><li>TCP的可靠体现在TCP在传递数据之前，会有三次握手来建立连接，而且在数据传递时，有确认、窗口、重传、拥塞控制机制，在数据传完后，还会断开连接用来节约系统资源。</li></ul><h5 id="TCP的缺点"><a href="#TCP的缺点" class="headerlink" title="TCP的缺点"></a>TCP的缺点</h5><ul><li>慢，效率低，占用系统资源高，易被攻击</li><li>TCP在传递数据之前，要先建连接，这会消耗时间，而且在数据传递时，确认机制、重传机制、拥塞控制机制等都会消耗大量的时间，而且要在每台设备上维护所有的传输连接，事实上，每个连接都会占用系统的CPU、内存等硬件资源。<br>由于TCP存在确认机制和三次握手机制，这些是导致TCP容易被人利用，实现DOS、DDOS、CC等攻击。</li></ul><h5 id="TCP应用场景"><a href="#TCP应用场景" class="headerlink" title="TCP应用场景"></a>TCP应用场景</h5><ul><li>当对网络通讯质量有要求的时候，比如：整个数据要准确无误的传递给对方，这往往用于一些要求可靠的应用，比如HTTP、HTTPS、FTP等传输文件的协议，POP、SMTP等邮件传输的协议。</li><li>在日常生活中，常见使用TCP协议的应用比如：浏览器使用HTTP，Outlook使用POP、SMTP，QQ文件传输等。</li></ul><h4 id="UDP协议"><a href="#UDP协议" class="headerlink" title="UDP协议"></a>UDP协议</h4><ul><li>U- DP 是User Datagram Protocol的简称， 中文名是用户数据报协议，是OSI（Open System Interconnection，开放式系统互联） 参考模型中一种无连接的传输层协议，提供面向事务的简单不可靠信息传送服务，IETF RFC 768是UDP的正式规范。UDP在IP报文的协议号是17。</li></ul><h5 id="UDP的优点"><a href="#UDP的优点" class="headerlink" title="UDP的优点"></a>UDP的优点</h5><ul><li>快，比TCP稍安全</li><li>UDP没有TCP的握手、确认、窗口、重传、拥塞控制等机制，UDP是一个无状态的传输协议，所以它在传递数据时非常快。没有TCP的这些机制，UDP较TCP被攻击者利用的漏洞就要少一些。但UDP也是无法避免攻击的，比如：UDP Flood攻击……</li></ul><h5 id="UDP的缺点"><a href="#UDP的缺点" class="headerlink" title="UDP的缺点"></a>UDP的缺点</h5><ul><li>不可靠，不稳定</li><li>因为UDP没有TCP那些可靠的机制，在数据传递时，如果网络质量不好，就会很容易丢包。</li></ul><h5 id="UDP应用场景"><a href="#UDP应用场景" class="headerlink" title="UDP应用场景"></a>UDP应用场景</h5><ul><li>当对网络通讯质量要求不高的时候，要求网络通讯速度能尽量的快，这时就可以使用UDP。在日常生活中，常见使用UDP协议的应用比如：QQ语音、QQ视频、TFTP等。</li><li>TCP和UDP使用IP协议从一个网络传送数据包到另一个网络。把IP想像成一种高速公路，它允许其它协议在上面行驶并找到到其它电脑的出口。TCP和UDP是高速公路上的“卡车”，它们携带的货物就是像HTTP，文件传输协议FTP这样的协议等。</li><li>TCP&#x2F;IP是个协议组，可分为三个层次：网络层、传输层和应用层。<ul><li>在网络层有：IP协议、ICMP协议、ARP协议、RARP协议和BOOTP协议。</li><li>在传输层中有：TCP协议与UDP协议。</li><li>在应用层有：FTP、HTTP、TELNET、SMTP、DNS等协议。</li></ul></li><li>因此，HTTP本身就是一个协议，是从Web服务器传输超文本到本地浏览器的传送协议。</li><li>TCP和UDP是FTP，HTTP和SMTP之类使用的传输层协议。</li><li>虽然TCP和UDP都是用来传输其他协议的，它们却有一个显著的不同：TCP提供有保证的数据传输，而UDP不提供。这意味着TCP有一个特殊的机制来确保数据安全的不出错的从一个端点传到另一个端点，而UDP不提供任何这样的保证。</li></ul><h4 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h4><ul><li>HTTP（超文本传输协议）是利用TCP在两台电脑(通常是Web服务器和客户端)之间传输信息的协议。客户端使用Web浏览器发起HTTP请求给Web服务器，Web服务器发送被请求的信息给客户端。</li><li>HTTP是短连接：客户端发送请求都需要服务器端回送响应.请求结束后，主动释放链接，因此为短连接。通常的做法是，不需要任何数据，也要保持每隔一段时间向服务器发送”保持连接”的请求。这样可以保证客户端在服务器端是”上线”状态。</li><li>HTTP连接使用的是”请求-响应”方式，不仅在请求时建立连接，而且客户端向服务器端请求后，服务器才返回数据。</li></ul><h4 id="Socket协议"><a href="#Socket协议" class="headerlink" title="Socket协议"></a>Socket协议</h4><ul><li>网络上的两个程序通过一个双向的通信连接实现数据的交换，这个连接的一端称为一个socket。</li><li>建立网络通信连接至少要一对端口号（socket）。socket本质是编程接口（API），对TCP&#x2F;IP的封装，TCP&#x2F;IP也要提供可供程序员做网络开发所用的接口，这就是Socket编程接口；HTTP是轿车，提供了封装或者显示数据的具体形式；Socket是发动机，提供了网络通信的能力。</li></ul><h1 id="TCP为何采用三次握手来建立连接，若采用二次握手可以么，请说明理由"><a href="#TCP为何采用三次握手来建立连接，若采用二次握手可以么，请说明理由" class="headerlink" title="TCP为何采用三次握手来建立连接，若采用二次握手可以么，请说明理由"></a>TCP为何采用三次握手来建立连接，若采用二次握手可以么，请说明理由</h1><ul><li>三次握手是为了防止已失效的连接请求再次传送到服务器端</li><li>二次握手不可行，因为：如果由于网络不稳定，虽然客户端以前发送的连接请求已到达服务方，但服务方的同意连接的应答未能到达客户端。则客户方要重新发送连接请求，若采用二次握手，服务方收到重传的请求连接后，会以为是新的请求，就会发送同意连接报文，并新开进程提供服务，这样会造成服务方资源的无谓浪费。</li></ul><h1 id="HTTP协议工作原理及其特点"><a href="#HTTP协议工作原理及其特点" class="headerlink" title="HTTP协议工作原理及其特点"></a>HTTP协议工作原理及其特点</h1><ul><li>超文本传输协议（HTTP：Hypertext Transport Protocol）是万维网应用层的协议，它通过两个程序实现：一个是客户端程序（各种浏览器），另一个是服务器 （常称Web服务器）。这两个通常运行在不同的主机上，通过交换报文来完成网页请求和响应，报文可简单分为请求报文和响应报文。</li><li>工作原理（流程）：<ul><li>客户机与服务器建立连接后，浏览器可以向web服务器发送请求并显示收到的网页，当用户在浏览器地址栏中输入一个URL或点击一个超连接时，浏览器就向服务器发出了HTTP请求，请求方式的格式为：统一资源标识符、协议版本号，后边是MIME（Multipurpose Internet Mail Extensions）信息包括请求修饰符、客户机信息和可能的内容</li><li>该请求被送往由URL指定的WEB服务器，WEB服务器接收到请求后，进行相应反映，其格式为：一个状态行包括信息的协议版本号、一个成功或错误的代码，后边服务器信息、实体信息和可能的内容</li><li>即以HTTP规定的格式送回所要求的文件或其他相关信息，再由用户计算机上的浏览器负责解释和显示</li></ul></li><li>特点：<ul><li>支持客户&#x2F;服务器模式。</li><li>简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。</li><li>灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。</li><li>无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。</li><li>无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。</li></ul></li></ul><h1 id="介绍OSI七层模型和TCP-IP模型"><a href="#介绍OSI七层模型和TCP-IP模型" class="headerlink" title="介绍OSI七层模型和TCP&#x2F;IP模型"></a>介绍OSI七层模型和TCP&#x2F;IP模型</h1><ul><li>OSI(Open System Interconnection)，开放式系统互联参考模型</li><li>是一个逻辑上的定义，一个规范，它把网络协议从逻辑上分为了7层</li><li>每一层都有相关、相对应的物理设备，比如常规的路由器是三层交换设备，常规的交换机是二层交换设备</li><li>OSI七层模型是一种框架性的设计方法，建立七层模型的主要目的是为解决异种网络互连时所遇到的兼容性问题，其最主要的功能就是帮助不同类型的主机实现数据传输</li><li>它的最大优点是将服务、接口和协议这三个概念明确地区分开来，通过七个层次化的结构模型使不同的系统不同的网络之间实现可靠的通讯。</li><li>TCP&#x2F;IP协议是Internet最基本的协议、Internet国际互联网络的基础，主要由网络层的IP协议和传输层的TCP协议组成</li><li>TCP&#x2F;IP 定义了电子设备如何连入因特网，以及数据如何在它们之间传输的标准</li><li>协议采用了4层的层级结构，每一层都呼叫它的下一层所提供的协议来完成自己的需求。</li><li>ISO制定的OSI参考模型的过于庞大、复杂招致了许多批评。伴随着互联网的流行，其本身所采用的TCP&#x2F;IP协议栈获得了更为广泛的应用和认可。在TCP&#x2F;IP参考模型中，去掉了OSI参考模型中的会话层和表示层（这两层的功能被合并到应用层实现）。同时将OSI参考模型中的数据链路层和物理层合并为主机到网络层</li></ul><h1 id="TCP协议和UDP协议的比较"><a href="#TCP协议和UDP协议的比较" class="headerlink" title="TCP协议和UDP协议的比较"></a>TCP协议和UDP协议的比较</h1><ul><li>TCP和UDP是TCP&#x2F;IP协议栈中传输层的两个协议，它们使用IP路由功能把数据包发送到目的地，从而为应用程序及应用层协议（包括：HTTP、SMTP、SNMP、FTP和Telnet）提供网络服务。</li><li>TCP的server和client之间通信就好比两个人打电话，需要互相知道对方的电话号码，然后开始对话。所以在两者的连接过程中间需要指定端口和地址。</li><li>UDP的server和client之间的通信就像两个人互相发信。我只需要知道对方的地址，然后就发信过去。对方是否收到我不知道，也不需要专门对口令似的来建立连接</li><li>具体区别如下：<ul><li>TCP是面向连接的传输。UDP是无连接的传输</li><li>TCP有流量控制、拥塞控制，检验数据数据按序到达，而UDP则相反。</li><li>TCP的路由选择只发生在建立连接的时候，而UDP的每个报文都要进行路由选择</li><li>TCP是可靠性传输，他的可靠性是由超时重发机制实现的，而UDP则是不可靠传输</li><li>UDP因为少了很多控制信息，所以传输速度比TCP速度快</li><li>TCP适合用于传输大量数据，UDP适合用于传输小量数据</li></ul></li></ul><h1 id="IP-TCP-UDP-HTTP-TCP-IP-Socket"><a href="#IP-TCP-UDP-HTTP-TCP-IP-Socket" class="headerlink" title="IP,TCP,UDP,HTTP,TCP&#x2F;IP,Socket"></a>IP,TCP,UDP,HTTP,TCP&#x2F;IP,Socket</h1><ul><li>IP 协议，为计算机网络相互连接进行通信而设计的协议。</li><li>TCP&#x2F;UDP 协议，基于二进制流的控制间传输协议。 TCP 是面向链接的，虽然说网络的不安全不稳定特性决定了多少次握手都不能保证连接的可靠性，但 TCP 的三次握手在最低限度上(实际上也很大程度上保证了)保证了连接的可靠性；而 UDP 不是面向连接的，UDP传送数据前并不与对方建立连接，对接收到的数据也不发送确认信号，发送端不知道数据是否会正确接收，当然也不用重发，所以说 UDP 是无连接的、不可靠的一种数据传输协议。</li><li>HTTP 协议，超文本传送协议(Hypertext Transfer Protocol )，HTTP 协议是建立在</li><li>TCP 协议之上的一种应用。</li><li>IP 协议对应于网络层，TCP 协议对应于传输层，而 HTTP 协议对应于应用层。注意</li><li>TPC&#x2F;IP 位于传输层，它主要用来解决数据如何在网络中传输，与 IP 协议要区分开。</li><li>IP 协议规定网络之间互连的协议；TPC&#x2F;IP 协议是传输层协议，主要解决数据如何在网络中传输；HTTP 是应用层协议，主要用于包装数据。</li><li>Socket 相当于调用接口(API)，用来调取 TCP&#x2F;IP 协议。</li></ul><h1 id="先来一个讲-TCP、UDP-和-HTTP-关系的"><a href="#先来一个讲-TCP、UDP-和-HTTP-关系的" class="headerlink" title="先来一个讲 TCP、UDP 和 HTTP 关系的"></a>先来一个讲 TCP、UDP 和 HTTP 关系的</h1><ul><li>TCP&#x2F;IP 是个协议组，可分为三个层次：网络层、传输层和应用层。</li><li>在网络层有 IP 协议、ICMP 协议、ARP 协议、RARP 协议和 BOOTP 协议。</li><li>在传输层中有 TCP 协议与 UDP 协议。</li><li>在应用层有 FTP、HTTP、TELNET、SMTP、DNS 等协议。</li><li>因此，HTTP 本身就是一个协议，是从 Web 服务器传输超文本到本地浏览器的传送协议。</li><li>HTTP 协议是建立在请求&#x2F;响应模型上的。首先由客户建立一条与服务器的 TCP链接，并发送一个请求到服务器，请求中包含请求方法、URI、协议版本以及相关的MIME 样式的消息。服务器响应一个状态行，包含消息的协议版本、一个成功和失败码以及相关的 MIME 式样的消息。</li><li>HTTP&#x2F;1.0 为每一次 HTTP 的请求&#x2F;响应建立一条新的 TCP 链接，因此一个包含 HTML内容和图片的页面将需要建立多次的短期的 TCP 链接。一次 TCP 链接的建立将需要 3次握手。</li><li>另外，为了获得适当的传输速度，则需要 TCP 花费额外的回路链接时间（RTT）。每一次链接的建立需要这种经常性的开销，而其并不带有实际有用的数据，只是保证链接的可靠性，因此 HTTP&#x2F;1.1 提出了可持续链接的实现方法。HTTP&#x2F;1.1 将只建立一次 TCP的链接而重复地使用它传输一系列的请求&#x2F;响应消息，因此减少了链接建立的次数和经常性的链接开销。</li><li>结论：虽然 HTTP 本身是一个协议，但其最终还是基于 TCP 的。不过，目前，有人正在研究基于 TCP+UDP 混合的 HTTP 协议。</li></ul><h1 id="为什么要四次挥手"><a href="#为什么要四次挥手" class="headerlink" title="为什么要四次挥手"></a>为什么要四次挥手</h1><ul><li>任何一方都可以在数据传送结束后发出连接释放的通知，待对方确认后进入半关闭状态。当另一方也没有数据再发送的时候，则发出连接释放通知，对方确认后就完全关闭了TCP连接。</li><li>举个例子：A 和 B 打电话，通话即将结束后，A 说“我没啥要说的了”，B回答“我知道了”，但是 B 可能还会有要说的话，A 不能要求 B 跟着自己的节奏结束通话，于是 B 可能又巴拉巴拉说了一通，最后 B 说“我说完了”，A 回答“知道了”，这样通话才算结束。</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag"><i class="fa fa-tag"></i> 网络</a> <a href="/tags/tcp/" rel="tag"><i class="fa fa-tag"></i> tcp</a> <a href="/tags/http/" rel="tag"><i class="fa fa-tag"></i> http</a> <a href="/tags/https/" rel="tag"><i class="fa fa-tag"></i> https</a></div><div class="post-nav"><div class="post-nav-item"><a href="/publishes/fe062138c36d.html" rel="prev" title="Memcached"><i class="fa fa-angle-left"></i> Memcached</a></div><div class="post-nav-item"><a href="/publishes/f17ba5c005d6.html" rel="next" title="Linux">Linux <i class="fa fa-angle-right"></i></a></div></div></footer></article></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">褚岩</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>站点总字数：</span> <span title="站点总字数">452k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">6:51</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动</div></div></footer><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script size="300" alpha="0.6" zindex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.28/fancybox/fancybox.umd.js" integrity="sha256-ytMJGN3toR+a84u7g7NuHm91VIR06Q41kMWDr2pq7Zo=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script src="/js/third-party/fancybox.js"></script><script src="/js/third-party/pace.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>